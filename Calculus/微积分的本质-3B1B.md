# 微积分的本质 - 3Blue1Brown 系列教程笔记

> 基于 3Blue1Brown 的《Essence of Calculus》视频系列整理
> 
> 本教程强调**几何直观**与**概念理解**，而非机械计算。建议配合原视频食用。

---

## 第1章：导数的本质——理解瞬时变化

> **3Blue1Brown 的核心思想**：通过圆的面积问题，同时理解积分和导数，并发现它们的神奇联系！
> 
> 这一章我们会像发明微积分一样思考，而不是死记公式。

---

### 🎯 引入：一个简单的问题

**问题**：半径为 3 的圆，面积是多少？

**你可能会说**：$A = \pi r^2 = \pi \times 3^2 = 9\pi \approx 28.27$ cm²

**但让我们追问**：
- 这个公式是怎么来的？
- 为什么是 $\pi r^2$，而不是别的？
- $\pi$ 在这里扮演什么角色？

**更深的问题**：
- 当半径从 3 变到 3.1 时，面积变化多少？
- 为什么面积变化量 ≈ 周长 × 半径变化量？

这些问题会引导我们发现**导数**和**积分**，以及它们之间的联系！

---

### 📐 第一步：理解 π（准备知识）

> **新概念预告**：π（圆周率）
> 
> 这是一个常数，约等于 3.14159...，它连接了圆的周长和直径。

#### π 的定义

**$\pi$（读作"派"）是一个神奇的数**：

$$
\pi = \frac{\text{圆的周长}}{\text{圆的直径}}
$$

**含义**：无论圆多大多小，周长和直径的比值**永远是同一个数**！

**这个数大约是**：
$$
\pi \approx 3.14159265358979323846\ldots
$$

**它是无理数**：小数点后无限不循环！

##### 具体感受 $\pi$

让我们用实际的圆来感受：

| 圆的半径 $r$ | 直径 $d = 2r$ | 周长 $C$ | 比值 $\frac{C}{d}$ |
|-------------|--------------|---------|------------------|
| 1 cm | 2 cm | 6.28 cm | 3.14 |
| 5 cm | 10 cm | 31.4 cm | 3.14 |
| 10 cm | 20 cm | 62.8 cm | 3.14 |
| 任意 | 任意 | 任意 | **总是 3.14...** |

**神奇之处**：比值永远是 $\pi$！

#####  $\pi$的公式

直径乘上圆周率等于周长

$$
C = \pi d = \pi \cdot 2r = 2\pi r
$$

**符号解释**：
- $C$：周长（Circumference）
- $d$：直径（diameter）= $2r$
- $r$：半径（radius）

**记忆**：
- 周长公式：$C = 2\pi r$
- 读作："二派arr"

##### 为什么叫 $\pi$？

- 希腊字母 π（pi），是"周长"（perimeter）的首字母
- 最早由欧拉在1737年推广使用
- 现在全世界都用这个符号

---

---

### 🧅 第二步：洋葱圈法——发现积分思想

> **这是本章最核心的部分！** 3B1B 用这个方法让我们"重新发明"微积分。

#### 问题：如何计算圆的面积？

我们已经知道公式 $A = \pi r^2$，但**让我们忘掉这个公式**，从头思考。

#### 核心想法：把复杂问题分解成简单问题

> **新概念预告**：积分（Integration）
> 
> 把一个大的、复杂的东西，切成无穷多个小的、简单的部分，然后加起来。

**3B1B 的妙招**：把圆想象成一层一层的"洋葱圈"！

```
        ●━━━━━━━● ← 最外层（半径 r）
       ●━━━━━━●   ← 第 n 层
      ●━━━━━●     ← 第 n-1 层
     ●━━━━●       ← ...
    ●━━●          ← 第 2 层
   ●━●            ← 第 1 层
  ●               ← 圆心（半径 0）
```

**关键观察**：
- 每一层都是一个**很细的环**
- 环的宽度很小（我们叫它 dr）
- 如果我们知道每层的面积，加起来就是总面积！

---

#### 计算一层环的面积

**问题**：半径为 r 的那一层环，面积是多少？

**分析**：
- 如果环很细，可以把它"剪开"展平，近似成一个长方形
- **长度** = 这一层的周长 = $2\pi r$
- **宽度** = 环的厚度 = $dr$（很小）

**面积**：
$$
\text{一层环的面积} = 2\pi r \times dr
$$

**图解**：
```
剪开前（环）：    剪开后（长方形）：
   ⭕       
               ┌─────────────────────────┐
               │                         │ ← 厚度 dr
               └─────────────────────────┘
               ↑                         ↑

```

---

#### 关键函数：周长与半径的关系

**数据表格**：

| 半径 r | 周长 C = 2πr |
|--------|-------------|
| 0 | 0 |
| 0.5 | 3.14 |
| 1.0 | 6.28 |
| 1.5 | 9.42 |
| 2.0 | 12.57 |
| 2.5 | 15.71 |
| 3.0 | 18.85 |

**为什么说这是一条直线？**

看数据就明白了：

| 半径 r | 周长 C = 2πr | 点坐标 (r, C) |
|--------|-------------|--------------|
| 0 | 0 | (0, 0) |
| 0.5 | 3.14 | (0.5, 3.14) |
| 1.0 | 6.28 | (1.0, 6.28) |
| 1.5 | 9.42 | (1.5, 9.42) |
| 2.0 | 12.57 | (2.0, 12.57) |
| 2.5 | 15.71 | (2.5, 15.71) |
| 3.0 | 18.85 | (3.0, 18.85) |

**观察规律**：

| r 的变化 | C 的变化 | 变化率 |
|---------|---------|--------|
| 0 → 1 | 0 → 6.28 | 6.28 |
| 1 → 2 | 6.28 → 12.57 | 6.28 |
| 2 → 3 | 12.57 → 18.85 | 6.28 |

**结论**：这是一条**直线**！
- ✅ 增长率恒定（斜率 = 2π ≈ 6.28）
- ✅ 过原点（r=0时，C=0）
- ✅ 没有弯曲（不是曲线）

**对比**：如果是 A(r) = πr²（面积），变化率会越来越大，那就是曲线了。

**关键**：这是一个**函数** $C(r) = 2\pi r$

---

#### 插曲：什么是函数？

> **新概念**：函数（Function）
> 
> 这是数学中最重要的概念之一！

**简单定义**：
- 函数就是一个"机器"
- 你给它一个**输入**
- 它按照某个**规则**
- 给你一个**输出**

**符号表示**：
$$
C(r) = 2\pi r
$$

**解读**：
- $C(r)$：读作"C of r"，意思是"C 是 r 的函数"
- 输入：半径 r
- 规则：乘以 $2\pi$
- 输出：周长 C

**生活类比**：

| 类比 | 输入 | 规则 | 输出 |
|------|------|------|------|
| 贩卖机 | 投币10元 | 按钮选择 | 饮料 |
| 温度转换 | 摄氏度 C | F = 1.8C + 32 | 华氏度 F |
| 圆的周长 | 半径 r | C = 2πr | 周长 C |
| 圆的面积 | 半径 r | A = πr² | 面积 A |

**函数的三种表示方式**：

**1. 公式**：
$$
C(r) = 2\pi r
$$

**2. 表格**：

| 输入 r | 输出 C(r) |
|--------|----------|
| 0 | 0 |
| 1 | 6.28 |
| 2 | 12.57 |
| 3 | 18.85 |

**3. 图像**（用表格表示更清楚）：

所有这些点 (r, C) 在坐标系中连成一条**过原点、斜率为 2π 的直线**。

**为什么函数重要？**

在微积分中：
- **积分**需要知道函数（知道每一层的周长）
- **导数**就是函数的变化率
- 没有函数，就没有微积分！

**我们的例子**：
- 函数：$C(r) = 2\pi r$（周长随半径变化）
- 这个函数告诉我们**每个半径 r 对应的周长**
- 有了这个函数，我们才能用积分算面积！

---

#### 把所有层加起来——这就是积分！

> **新概念**：积分符号 ∫
> 
> 这个符号（读作"积分"）表示"把无穷多个小东西加起来"。
> 
> 它来自拉长的字母 S（Sum 的首字母）。

**总面积** = 从半径 0 到 r 的所有环加起来

**数学表达**：
$$
A = \int_0^r 2\pi r \, dr
$$

**符号解释**：
- $\int$：积分符号（"求和"）
- $0$ 和 $r$：从 0 加到 r
- $2\pi r$：每一层的周长（函数）
- $dr$：每一层的厚度（很小）
- 整体意思：把从 0 到 r 的所有 $(2\pi r \times dr)$ 加起来

---

#### 具体例子：r = 3 的圆

让我们切成 10 层来感受：

| 层数 | 半径 r | 周长 C = 2πr | 厚度 dr | 这一层面积 ≈ C × dr |
|------|--------|-------------|---------|-------------------|
| 1 | 0.3 | 1.88 | 0.3 | 0.56 |
| 2 | 0.6 | 3.77 | 0.3 | 1.13 |
| 3 | 0.9 | 5.65 | 0.3 | 1.70 |
| 4 | 1.2 | 7.54 | 0.3 | 2.26 |
| 5 | 1.5 | 9.42 | 0.3 | 2.83 |
| 6 | 1.8 | 11.31 | 0.3 | 3.39 |
| 7 | 2.1 | 13.19 | 0.3 | 3.96 |
| 8 | 2.4 | 15.08 | 0.3 | 4.52 |
| 9 | 2.7 | 16.96 | 0.3 | 5.09 |
| 10 | 3.0 | 18.85 | 0.3 | 5.65 |

**总和** ≈ 0.56 + 1.13 + ... + 5.65 ≈ 31.1

**精确值** = $\pi r^2 = 9\pi$ ≈ 28.27

**为什么有误差？** 因为我们只切了 10 层！切得越细，越接近精确值。

---

#### 可视化：面积 = 曲线下方的区域

我们可以把这个过程画成图：

**横轴 = 半径 r，纵轴 = 周长 C(r) = 2πr**

```
周长 C
  |
20|╱                      ● (3, 18.85)
  |╱                  ╱
15|╱              ╱
  |╱          ╱
10|╱      ╱       <-- 斜线 C = 2πr
  |╱  ╱
 5|╱
  |●___________________________> 半径 r
  0       1       2       3

  总面积 = 这个三角形的面积！
```

**三角形面积**：
$$
A = \frac{1}{2} \times \text{底} \times \text{高} = \frac{1}{2} \times r \times 2\pi r = \pi r^2
$$

**惊人发现**：
- 用积分（加无穷多层）：$A = \int_0^r 2\pi r \, dr = \pi r^2$
- 用几何（三角形面积）：$A = \pi r^2$
- **完全一致！**

---

### 💡 第二步总结：我们发现了什么？

1. **积分思想**：把复杂问题（圆面积）拆成无穷多个简单问题（薄环）
2. **关键公式**：一层环面积 = $2\pi r \times dr$（周长 × 厚度）
3. **数学表达**：$A = \int_0^r 2\pi r \, dr = \pi r^2$
4. **几何意义**：积分 = 函数图像下方的面积

---

### 🎯 第三步：导数——面积如何变化？

> **新问题**：现在我们知道了面积公式 $A = \pi r^2$，让我们问一个不同的问题：
> 
> **当半径变化时，面积如何变化？**

#### 观察数据

| 半径 r | 面积 A = πr² | 半径变化 | 新面积 | 面积变化量 |
|--------|-------------|---------|--------|-----------|
| 1 | 3.14 | → 1.1 | 3.80 | 0.66 |
| 2 | 12.57 | → 2.1 | 13.85 | 1.28 |
| 3 | 28.27 | → 3.1 | 30.19 | 1.92 |

**观察**：相同的半径变化（0.1），但面积变化量不同！

**问题**：面积变化量与什么有关？

---

#### 几何直观：薄环的面积

当半径从 r 变到 r + dr 时，新增的面积是什么？

**就是最外面那一层薄环！**

```
    ●━━━━━━━━━●  ← 半径 r+dr (新圆)
   ●━━━━━━━━●    ← 半径 r (旧圆)
    ╰───薄环──╯   ← 厚度 dr
```

**薄环面积**（我们刚才算过）：
$$
\Delta A \approx 2\pi r \times dr
$$

**换个写法**：
$$
\frac{\Delta A}{\Delta r} \approx 2\pi r
$$

**意思**：面积变化量 ÷ 半径变化量 ≈ 周长

---

#### 引入导数

> **新概念**：导数（Derivative）
> 
> 描述"此时此刻，变化有多快"的数学工具。

**平均变化率**：
$$
\frac{\Delta A}{\Delta r} = \frac{\text{面积变化}}{\text{半径变化}}
$$

**瞬时变化率（导数）**：让 Δr 越来越小
$$
\frac{dA}{dr} = \lim_{\Delta r \to 0} \frac{\Delta A}{\Delta r}
$$

**符号解释**：
- $\frac{dA}{dr}$：读作"dee A dee r"，A 对 r 的导数
- $\lim$：极限（limit）
- $\Delta r \to 0$：Delta r 趋向于 0
- $d$：无限小的变化量（Delta 的极限形式）

---

#### 计算导数：用代数

从 $A = \pi r^2$ 出发：

**步骤1**：半径变化
$$
r \to r + \Delta r
$$

**步骤2**：新面积
$$
A_{\text{new}} = \pi(r + \Delta r)^2 = \pi(r^2 + 2r \cdot \Delta r + (\Delta r)^2)
$$

**步骤3**：面积变化
$$
\Delta A = A_{\text{new}} - A = \pi \cdot 2r \cdot \Delta r + \pi(\Delta r)^2
$$

**步骤4**：平均变化率
$$
\frac{\Delta A}{\Delta r} = 2\pi r + \pi \cdot \Delta r
$$

**步骤5**：取极限（Δr → 0）
$$
\frac{dA}{dr} = 2\pi r
$$

**这就是导数！**

---

### ✨ 神奇的发现：导数 = 积分中的函数

回顾我们的发现：

1. **积分**（第二步）：
   $$
   A = \int_0^r \underbrace{2\pi r}_{\text{周长}} \, dr
   $$

2. **导数**（第三步）：
   $$
   \frac{dA}{dr} = \underbrace{2\pi r}_{\text{周长}}
   $$

**惊人的联系**：
- 积分里的函数（周长 $2\pi r$）
- 等于面积的导数（$\frac{dA}{dr} = 2\pi r$）
- **积分和导数是互逆的！**

**几何意义**：
- **积分**：把周长一层层加起来 → 得到面积
- **导数**：面积的变化率 → 得到周长

**3B1B 的核心洞察**：
> 这不是巧合！这是**微积分基本定理**的核心。

---

### 🎓 第一章总结：我们学到了什么？

#### 核心发现

通过一个简单的圆面积问题，我们发现了微积分的两个核心概念：

**1. 积分（Integration）**
- **思想**：把复杂问题拆成无穷多个简单部分，然后加起来
- **应用**：圆 = 无穷多个薄环
- **公式**：$A = \int_0^r 2\pi r \, dr = \pi r^2$
- **意义**：函数图像下方的面积

**2. 导数（Derivative）**
- **思想**：描述"此时此刻，变化有多快"
- **应用**：半径变化时，面积如何变化
- **公式**：$\frac{dA}{dr} = 2\pi r$
- **意义**：函数的瞬时变化率

**3. 微积分基本定理的预览**
- 积分里的函数（$2\pi r$）= 面积的导数
- **积分和导数是互逆操作！**

---

#### 关键符号回顾

| 符号 | 读法 | 含义 |
|------|------|------|
| $\pi$ | 派 | 圆周率 ≈ 3.14159... |
| $\int$ | 积分 | 把无穷多个东西加起来 |
| $dr$ | dee r | 无限小的半径变化 |
| $\frac{dA}{dr}$ | dee A dee r | A 对 r 的导数 |
| $\lim$ | limit | 极限（无限接近）|
| $\Delta r$ | Delta r | 半径的有限变化量 |

---

#### 3B1B 的教学精髓

**不是**"记住公式"，而是"理解思想"：

1. **从问题出发**：圆的面积怎么算？
2. **分解问题**：切成无穷多层（积分思想）
3. **观察变化**：半径变化时，面积如何变（导数思想）
4. **发现联系**：积分和导数的神奇关系

**这就是"像发明微积分一样思考"！**

---

#### 下一步

- **第2章**：极限——如何精确处理"无穷小"和"无穷多"
- **第3章**：幂法则——推导更多函数的导数
- **第4章**：链式法则——处理复杂函数
- ...
- **第10章**：微积分基本定理——正式证明积分和导数的关系

---

**💡 记住这个例子**：
$$
\begin{aligned}
\text{面积} &= \pi r^2 \\
\text{周长} &= 2\pi r \\
\text{导数} &= \frac{dA}{dr} = 2\pi r = \text{周长}
\end{aligned}
$$

这个例子完美展示了微积分的核心思想！

---

#### 1. 导数解决的核心问题

**问题**：如何精确描述"此时此刻，变化有多快"？

**答案**：用极限！

- 平均变化率：$\frac{\Delta A}{\Delta r}$（在一段区间内）
- 瞬时变化率（导数）：$\frac{dA}{dr} = \lim_{\Delta r \to 0} \frac{\Delta A}{\Delta r}$（在某一点）

#### 2. 导数的几何意义

**对于圆的面积**：
- 面积公式：$A = \pi r^2$
- 导数：$\frac{dA}{dr} = 2\pi r$
- 物理意义：**导数 = 周长**

**图表理解**：
```
面积 A          导数 = 曲线的斜率
  |                 |
  |    ●          20|            ●
  |   ●             |          ●
  |  ●            15|        ●     <-- 越来越陡
  | ●               |      ●
  |●              10|    ●
  |_____> r         |  ●
                    |●_____> r
```

#### 3. 导数的符号

| 符号 | 读法 | 含义 |
|------|------|------|
| $\Delta r$ | Delta r | 半径的变化量（有限） |
| $dr$ | dee r | 半径的无限小变化量 |
| $\frac{\Delta A}{\Delta r}$ | Delta A over Delta r | 平均变化率 |
| $\frac{dA}{dr}$ | dee A dee r | 导数（瞬时变化率） |
| $\lim$ | limit | 极限 |

#### 4. 关键思想

> **导数 = 把"瞬时"变成"极限"**
> 
> 我们无法直接计算 0/0，但可以让变化量越来越小，看它趋向哪个值！

#### 5. 下一步

学会了圆面积的导数，下一章我们会学习：
- 其他函数的导数怎么算？（幂法则、链式法则等）
- 导数有什么用？（优化、曲线切线等）
- 导数的反向操作是什么？（积分！）

---

**💡 记住这个例子**：
- 原函数：$A = \pi r^2$
- 导数：$\frac{dA}{dr} = 2\pi r$
- 神奇之处：面积的导数 = 周长

这个例子完美展示了导数的几何直观！

---


## 第2章：悖论与极限——理解"无穷"

> 极限是微积分的灵魂，它让我们能够精确处理"无穷小"和"无穷多"

---

### 🏃 芝诺悖论：古希腊的数学谜题

#### 故事背景

公元前5世纪，希腊哲学家**芝诺**（Zeno）提出了一系列关于运动的悖论，其中最著名的是：

**"阿喀琉斯与乌龟"**

- **阿喀琉斯**：古希腊神话中跑得最快的英雄
- **乌龟**：慢吞吞的爬行动物
- **设定**：乌龟先跑10米，阿喀琉斯速度是乌龟的10倍

#### 悖论的推理

**第1步**：
- 阿喀琉斯跑完10米（到乌龟起点）
- 乌龟又往前爬了1米
- 乌龟还在前面！

**第2步**：
- 阿喀琉斯跑完这1米
- 乌龟又往前爬了0.1米
- 乌龟还在前面！

**第3步**：
- 阿喀琉斯跑完0.1米
- 乌龟又往前爬了0.01米
- 乌龟还在前面！

**悖论结论**：
> 无论阿喀琉斯跑多快，每次到达乌龟的位置时，乌龟总是又往前走了一点。
> 所以阿喀琉斯**永远追不上**乌龟！

#### 直觉 vs 数学

**直觉告诉我们**：这不对！阿喀琉斯明明会追上！

**芝诺说**：但你要完成**无穷多个步骤**，怎么可能在有限时间内完成？

**数学的回答**：能！因为无穷级数可以**收敛**！

#### 数学解释

**总距离**（阿喀琉斯需要跑的）：
$$
\text{总距离} = 10 + 1 + 0.1 + 0.01 + 0.001 + \cdots
$$

写成数学形式：
$$
S = 10 + \frac{10}{10} + \frac{10}{100} + \frac{10}{1000} + \cdots = 10\left(1 + \frac{1}{10} + \frac{1}{100} + \cdots\right)
$$

这是一个**几何级数**：
$$
S = 10 \times \frac{1}{1 - 1/10} = 10 \times \frac{10}{9} = \frac{100}{9} \approx 11.11 \text{ 米}
$$

**结论**：
- 总距离是**有限的**（11.11米）
- 虽然有**无穷多步**，但每步时间越来越短
- 总时间也是**有限的**！

#### 用具体数字感受

假设阿喀琉斯速度 = 10 m/s，乌龟速度 = 1 m/s：

| 步骤 | 阿喀琉斯跑的距离 | 用时 | 累计时间 | 乌龟位置 |
|------|-----------------|------|----------|---------|
| 1 | 10 m | 1 s | 1 s | 11 m |
| 2 | 1 m | 0.1 s | 1.1 s | 11.1 m |
| 3 | 0.1 m | 0.01 s | 1.11 s | 11.11 m |
| 4 | 0.01 m | 0.001 s | 1.111 s | 11.111 m |
| ∞ | ··· | ··· | **1.111...s** | **11.111...m** |

**关键发现**：
- 总时间 = $1 + 0.1 + 0.01 + \cdots = \frac{10}{9} \approx 1.11$ 秒
- 在 **1.11秒** 时，阿喀琉斯追上乌龟！
- **无穷多步，有限时间**！

---

### 🎯 极限：精确定义"接近"

#### 直观例子

**数列1**：$0.9, 0.99, 0.999, 0.9999, \ldots$

这个数列越来越接近1，我们说它的**极限是1**：
$$
\lim_{n \to \infty} 0.\underbrace{999\ldots9}_{n个9} = 1
$$

**有趣问题**：$0.999\ldots = 1$ 吗？

**答案**：**是的**！
$$
x = 0.999\ldots
$$
$$
10x = 9.999\ldots
$$
$$
10x - x = 9
$$
$$
9x = 9 \implies x = 1
$$

#### 极限的记号

$$
\lim_{x \to a} f(x) = L
$$

**完整读法**：
> "当 $x$ 趋近于 $a$ 时，$f(x)$ 的极限是 $L$"

**符号解释**：
- $\lim$：limit（极限）
- $x \to a$：$x$ 趋向 $a$（箭头表示"趋向"）
- $f(x) = L$：函数值趋向 $L$

#### 例子：计算极限

**例1**：$\lim_{x \to 2} (3x + 1) = ?$

**直接代入**：$3 \times 2 + 1 = 7$

**答案**：$\lim_{x \to 2} (3x + 1) = 7$

**例2**：$\lim_{x \to 0} \frac{\sin x}{x} = ?$

**不能直接代入**（$\frac{0}{0}$ 未定义）

**用图像观察**：
| $x$ | $\sin x$ | $\frac{\sin x}{x}$ |
|-----|----------|-------------------|
| 0.1 | 0.0998 | 0.998 |
| 0.01 | 0.01000 | 1.000 |
| 0.001 | 0.001000 | 1.000 |

**答案**：$\lim_{x \to 0} \frac{\sin x}{x} = 1$

（这是微积分中的经典极限！）

---

### 📏 极限的精确定义：ε-δ 语言

> 这是数学分析的严格基础，初学可以跳过，理解直观意义即可

#### 定义

$$
\lim_{x \to a} f(x) = L
$$

**精确含义**：
$$
\forall \epsilon > 0, \exists \delta > 0 \text{ s.t. } 0 < |x - a| < \delta \Rightarrow |f(x) - L| < \epsilon
$$

#### 白话翻译

**符号含义**：
- $\forall$：对于任意（for all）
- $\exists$：存在（there exists）
- $\epsilon$（epsilon）：输出误差，你要求的精度
- $\delta$（delta）：输入范围
- $|x - a| < \delta$：$x$ 距离 $a$ 小于 $\delta$
- $|f(x) - L| < \epsilon$：$f(x)$ 距离 $L$ 小于 $\epsilon$

**完整翻译**：
> 对于你给我的任意小的误差要求 $\epsilon$（比如0.001），
> 我总能找到一个输入范围 $\delta$（比如0.0001），
> 使得当 $x$ 在 $a$ 附近 $\delta$ 范围内时，
> $f(x)$ 在 $L$ 附近 $\epsilon$ 范围内。

#### 游戏化理解："挑战-应战"

**你（挑战者）**："我要求 $f(x)$ 与 $L$ 的误差 < 0.01！"（$\epsilon = 0.01$）

**我（应战者）**："好，只要 $x$ 与 $a$ 的距离 < 0.005，就能保证！"（$\delta = 0.005$）

**你**："那我要求误差 < 0.0001！"

**我**："没问题，$x$ 距离 < 0.00005 就行！"

**无论你怎么要求，我都能应对** → 极限存在！

---

### 🔬 导数就是极限

回到第1章的导数定义：
$$
f'(x) = \lim_{dx \to 0} \frac{f(x+dx) - f(x)}{dx}
$$

**现在你明白了**：
- $dx \to 0$：$dx$ 趋近于零（极限）
- 分子：$f(x+dx) - f(x)$（输出变化）
- 分母：$dx$（输入变化）
- 整体：变化率的极限

**为什么需要极限**？
- 不能让 $dx = 0$（会得到 $\frac{0}{0}$）
- 但可以让 $dx$ **无限接近** 0
- 极限给了我们精确的语言！

---

### 🧮 常见极限

#### 1. 基本极限

$$
\lim_{x \to a} c = c \quad \text{（常数）}
$$
$$
\lim_{x \to a} x = a
$$
$$
\lim_{x \to a} x^n = a^n
$$

#### 2. 重要极限（必记！）

$$
\lim_{x \to 0} \frac{\sin x}{x} = 1
$$
$$
\lim_{x \to 0} \frac{1 - \cos x}{x} = 0
$$
$$
\lim_{x \to \infty} \left(1 + \frac{1}{x}\right)^x = e
$$
$$
\lim_{x \to 0} \frac{e^x - 1}{x} = 1
$$

#### 3. 无穷级数收敛

$$
\sum_{n=0}^{\infty} \frac{1}{2^n} = 1 + \frac{1}{2} + \frac{1}{4} + \frac{1}{8} + \cdots = 2
$$
$$
\sum_{n=1}^{\infty} \frac{1}{n^2} = 1 + \frac{1}{4} + \frac{1}{9} + \frac{1}{16} + \cdots = \frac{\pi^2}{6}
$$

（第二个是欧拉发现的著名结果！）

---

### 💡 极限的运算法则

如果 $\lim_{x \to a} f(x) = L$ 和 $\lim_{x \to a} g(x) = M$，则：

**1. 和的极限**：
$$
\lim_{x \to a} [f(x) + g(x)] = L + M
$$

**2. 差的极限**：
$$
\lim_{x \to a} [f(x) - g(x)] = L - M
$$

**3. 积的极限**：
$$
\lim_{x \to a} [f(x) \cdot g(x)] = L \cdot M
$$

**4. 商的极限**（$M \neq 0$）：
$$
\lim_{x \to a} \frac{f(x)}{g(x)} = \frac{L}{M}
$$

---

### 🎯 本章要点

1. **芝诺悖论**：无穷多步可以在有限时间完成（级数收敛）
2. **极限定义**："无限接近"的精确数学语言
3. **ε-δ定义**：严格的数学基础（初学可跳过）
4. **导数是极限**：$f'(x) = \lim_{dx \to 0} \frac{\Delta f}{\Delta x}$
5. **重要极限**：$\lim_{x \to 0} \frac{\sin x}{x} = 1$，$\lim_{x \to \infty} (1+\frac{1}{x})^x = e$

**记住**：
> 极限让我们能够精确谈论"瞬时"和"无穷小"，
> 这是整个微积分的理论基础！

---

## 第3章：用和式逼近导数——幂法则（Power Rule）

> 从定义出发，推导最基本的求导公式

---

### 🎯 本章目标

学会计算幂函数 $f(x) = x^n$ 的导数，掌握**幂法则**：
$$
\frac{d}{dx}(x^n) = nx^{n-1}
$$

---

### 📐 推导：$f(x) = x^2$ 的导数

让我们从最简单的例子开始，严格按定义计算。

#### 步骤1：写出导数定义
$$
f'(x) = \lim_{dx \to 0} \frac{f(x+dx) - f(x)}{dx}
$$

**符号提醒**：
- $f(x+dx)$：把 $x$ 换成 $x+dx$ 后的函数值
- $f(x+dx) - f(x)$：输出的变化量
- $dx$：输入的变化量
- $\lim_{dx \to 0}$：让 $dx$ 趋近于零

#### 步骤2：代入 $f(x) = x^2$
$$
\frac{d}{dx}(x^2) = \lim_{dx \to 0} \frac{(x+dx)^2 - x^2}{dx}
$$

**具体化**：
- $f(x) = x^2$
- $f(x+dx) = (x+dx)^2$

#### 步骤3：展开 $(x+dx)^2$

用代数公式 $(a+b)^2 = a^2 + 2ab + b^2$：
$$
(x+dx)^2 = x^2 + 2x \cdot dx + (dx)^2
$$

代入：
$$
\frac{d}{dx}(x^2) = \lim_{dx \to 0} \frac{x^2 + 2x \cdot dx + (dx)^2 - x^2}{dx}
$$

#### 步骤4：化简（$x^2$ 抵消）
$$
= \lim_{dx \to 0} \frac{2x \cdot dx + (dx)^2}{dx}
$$

**提取公因子 $dx$**：
$$
= \lim_{dx \to 0} \frac{dx(2x + dx)}{dx} = \lim_{dx \to 0} (2x + dx)
$$

#### 步骤5：取极限

当 $dx \to 0$ 时：
$$
\lim_{dx \to 0} (2x + dx) = 2x + 0 = 2x
$$

**最终结果**：
$$
\boxed{\frac{d}{dx}(x^2) = 2x}
$$

---

### 🔍 深入理解：为什么 $(dx)^2$ 可以忽略？

#### 数值感受

假设 $dx = 0.1$：
$$
2x \cdot dx + (dx)^2 = 2x \times 0.1 + 0.01
$$

对于 $x = 3$：
$$
2 \times 3 \times 0.1 + 0.01 = 0.6 + 0.01 = 0.61
$$

**两项对比**：
- 主要项：$2x \cdot dx = 0.6$（占 98.4%）
- 次要项：$(dx)^2 = 0.01$（只占 1.6%）

#### $dx$ 越小，$(dx)^2$ 越不重要

| $dx$ | $2x \cdot dx$ (主) | $(dx)^2$ (次) | 次/主 比例 |
|------|-------------------|---------------|-----------|
| 0.1 | 0.6 | 0.01 | 1.67% |
| 0.01 | 0.06 | 0.0001 | 0.17% |
| 0.001 | 0.006 | 0.000001 | 0.017% |

**结论**：$dx \to 0$ 时，$(dx)^2$ 的贡献趋于零！

这就是**高阶无穷小**的概念：$(dx)^2$ 比 $dx$ 小得快得多。

---

### 🧮 推导：$f(x) = x^3$ 的导数

**步骤1：写出定义**
$$
\frac{d}{dx}(x^3) = \lim_{dx \to 0} \frac{(x+dx)^3 - x^3}{dx}
$$

**步骤2：展开 $(x+dx)^3$**

用二项式展开：
$$
(x+dx)^3 = x^3 + 3x^2 \cdot dx + 3x \cdot (dx)^2 + (dx)^3
$$

**步骤3：代入并化简**
$$
\frac{d}{dx}(x^3) = \lim_{dx \to 0} \frac{x^3 + 3x^2 \cdot dx + 3x(dx)^2 + (dx)^3 - x^3}{dx}
$$
$$
= \lim_{dx \to 0} \frac{3x^2 \cdot dx + 3x(dx)^2 + (dx)^3}{dx}
$$
$$
= \lim_{dx \to 0} (3x^2 + 3x \cdot dx + (dx)^2)
$$

**步骤4：取极限**（$dx \to 0$，后两项消失）
$$
\boxed{\frac{d}{dx}(x^3) = 3x^2}
$$

---

### 🌟 幂法则（Power Rule）

#### 定理

对于任意实数 $n$：
$$
\boxed{\frac{d}{dx}(x^n) = nx^{n-1}}
$$

**记忆口诀**：
> "指数降下来，原指数减一"

#### 例子：正整数幂

$$
\begin{aligned}
\frac{d}{dx}(x^1) &= 1 \cdot x^0 = 1 \\
\frac{d}{dx}(x^2) &= 2x^1 = 2x \\
\frac{d}{dx}(x^3) &= 3x^2 \\
\frac{d}{dx}(x^4) &= 4x^3 \\
\frac{d}{dx}(x^{100}) &= 100x^{99}
\end{aligned}
$$

#### 例子：分数幂（根式）

**平方根**：
$$
\frac{d}{dx}(\sqrt{x}) = \frac{d}{dx}(x^{1/2}) = \frac{1}{2}x^{-1/2} = \frac{1}{2\sqrt{x}}
$$

**立方根**：
$$
\frac{d}{dx}(\sqrt[3]{x}) = \frac{d}{dx}(x^{1/3}) = \frac{1}{3}x^{-2/3} = \frac{1}{3\sqrt[3]{x^2}}
$$

#### 例子：负数幂（分式）

**倒数**：
$$
\frac{d}{dx}\left(\frac{1}{x}\right) = \frac{d}{dx}(x^{-1}) = -1 \cdot x^{-2} = -\frac{1}{x^2}
$$

**验证**（用定义）：
$$
\lim_{dx \to 0} \frac{\frac{1}{x+dx} - \frac{1}{x}}{dx} = \lim_{dx \to 0} \frac{\frac{x - (x+dx)}{x(x+dx)}}{dx} = \lim_{dx \to 0} \frac{-dx}{dx \cdot x(x+dx)} = -\frac{1}{x^2}
$$

**平方倒数**：
$$
\frac{d}{dx}\left(\frac{1}{x^2}\right) = \frac{d}{dx}(x^{-2}) = -2x^{-3} = -\frac{2}{x^3}
$$

---

### 🎨 几何理解：$y = x^2$ 的图像

#### 函数图像

```
  y
  |     
  |    ╱
  |   ╱
  |  ╱
  | ╱
  |╱_______ x
```

抛物线，开口向上。

#### 切线斜率变化

在不同点 $x$ 处，导数 $f'(x) = 2x$ 告诉我们切线斜率：

| $x$ | $y = x^2$ | $y' = 2x$ | 意义 |
|-----|----------|----------|------|
| -2 | 4 | -4 | 向下倾斜（斜率负）|
| -1 | 1 | -2 | 向下倾斜 |
| 0 | 0 | 0 | **水平**（最低点）|
| 1 | 1 | 2 | 向上倾斜 |
| 2 | 4 | 4 | 向上倾斜 |
| 3 | 9 | 6 | 越来越陡 |

**观察**：
- $x < 0$：斜率为负（函数递减）
- $x = 0$：斜率为零（极值点）
- $x > 0$：斜率为正（函数递增）
- $|x|$ 越大，斜率绝对值越大（越陡）

---

### 📝 特殊情况

#### 常数函数

$$
\frac{d}{dx}(c) = 0
$$

**理由**：
- 常数不变化，变化率为零
- 用幂法则：$c = c \cdot x^0$，但导数是 $0$（特殊情况）

**例子**：
$$
\frac{d}{dx}(5) = 0, \quad \frac{d}{dx}(\pi) = 0, \quad \frac{d}{dx}(100) = 0
$$

**几何意义**：$y = c$ 是水平线，斜率处处为零。

#### 线性函数

$$
\frac{d}{dx}(mx + b) = m
$$

**推导**：
$$
\frac{d}{dx}(mx + b) = \frac{d}{dx}(mx) + \frac{d}{dx}(b) = m \cdot 1 + 0 = m
$$

**例子**：
$$
\frac{d}{dx}(3x + 7) = 3, \quad \frac{d}{dx}(-2x + 5) = -2
$$

**几何意义**：直线 $y = mx + b$ 的斜率处处是 $m$。

---

### 🧪 练习题

自己动手算一下导数！

**练习1**：$f(x) = x^5$，求 $f'(x)$

<details>
<summary>点击查看答案</summary>

$$
f'(x) = 5x^4
$$
</details>

**练习2**：$f(x) = \sqrt[4]{x}$，求 $f'(x)$

<details>
<summary>提示</summary>

$\sqrt[4]{x} = x^{1/4}$
</details>

<details>
<summary>答案</summary>

$$
f'(x) = \frac{1}{4}x^{-3/4} = \frac{1}{4\sqrt[4]{x^3}}
$$
</details>

**练习3**：$f(x) = \frac{1}{x^3}$，求 $f'(x)$

<details>
<summary>答案</summary>

$$
f'(x) = \frac{d}{dx}(x^{-3}) = -3x^{-4} = -\frac{3}{x^4}
$$
</details>

**练习4**：$f(x) = 7x^2 + 3x + 5$，求 $f'(x)$

<details>
<summary>答案</summary>

$$
f'(x) = 7 \cdot 2x + 3 \cdot 1 + 0 = 14x + 3
$$
</details>

---

### 🎯 本章要点

1. **导数定义**：从 $\lim_{dx \to 0} \frac{f(x+dx)-f(x)}{dx}$ 出发推导
2. **高阶无穷小**：$(dx)^2$ 比 $dx$ 小得多，可忽略
3. **幂法则**：$\frac{d}{dx}(x^n) = nx^{n-1}$（对所有 $n$ 成立）
4. **特殊情况**：
   - 常数导数为零：$\frac{d}{dx}(c) = 0$
   - 线性函数导数为斜率：$\frac{d}{dx}(mx+b) = m$
5. **几何意义**：导数是切线斜率，描述函数的"陡峭程度"

**下一步**：学习链式法则、乘积法则等更复杂的求导技巧！

---

## 第4章：链式法则、乘积法则与商法则

> 微积分中最重要的求导技巧——组合函数如何求导

---

### 🎯 本章目标

学会处理复杂函数的导数：
1. **和与常数倍**：$(f + g)' = f' + g'$
2. **乘积法则**：$(fg)' = f'g + fg'$
3. **商法则**：$\left(\frac{f}{g}\right)' = \frac{f'g - fg'}{g^2}$
4. **链式法则**：$(f \circ g)' = f'(g) \cdot g'$ ⭐ 最重要！

---

### 📝 和的法则（Sum Rule）

#### 定理

$$
\frac{d}{dx}[f(x) + g(x)] = f'(x) + g'(x)
$$

#### 直观理解

**问题**：如果 $f$ 和 $g$ 同时变化，总变化是什么？

**答案**：各自变化的和！

想象你在爬山：
- $f(x)$：海拔高度
- $g(x)$：背包重量
- 总重量 = 你 + 背包

当你往上爬（$x$ 增加）：
- 海拔增加率：$f'(x)$
- 背包增加率：$g'(x)$（假设边爬边装东西）
- 总增加率：$f'(x) + g'(x)$

#### 代数证明

$$
\begin{aligned}
\frac{d}{dx}[f(x) + g(x)] &= \lim_{dx \to 0} \frac{[f(x+dx) + g(x+dx)] - [f(x) + g(x)]}{dx} \\
&= \lim_{dx \to 0} \frac{[f(x+dx) - f(x)] + [g(x+dx) - g(x)]}{dx} \\
&= \lim_{dx \to 0} \frac{f(x+dx) - f(x)}{dx} + \lim_{dx \to 0} \frac{g(x+dx) - g(x)}{dx} \\
&= f'(x) + g'(x)
\end{aligned}
$$

#### 例子

**例1**：$\frac{d}{dx}(x^2 + x^3) = 2x + 3x^2$

**例2**：$\frac{d}{dx}(3x^4 + 2x^2 + 5) = 12x^3 + 4x + 0 = 12x^3 + 4x$

**例3**：$\frac{d}{dx}(\sin x + \cos x) = \cos x - \sin x$

---

### 🔢 常数倍法则（Constant Multiple Rule）

#### 定理

$$
\frac{d}{dx}[c \cdot f(x)] = c \cdot f'(x)
$$

其中 $c$ 是常数。

#### 直观理解

常数只是"缩放"函数，不改变变化率的**比例**。

如果速度是原来的3倍，加速度也是原来的3倍！

#### 例子

$$
\begin{aligned}
\frac{d}{dx}(5x^2) &= 5 \cdot 2x = 10x \\
\frac{d}{dx}(-3x^4) &= -3 \cdot 4x^3 = -12x^3 \\
\frac{d}{dx}(\pi x) &= \pi \cdot 1 = \pi
\end{aligned}
$$

---

### ✖️ 乘积法则（Product Rule）⭐⭐⭐⭐

#### 定理

$$
\boxed{\frac{d}{dx}[f(x) \cdot g(x)] = f'(x)g(x) + f(x)g'(x)}
$$

**记忆口诀**：
> "前导后 + 前后导"
> 
> "左边求导乘右边，加上左边乘右边求导"

#### 几何直观：矩形面积

**核心思想**：面积 = 长 × 宽

想象一个矩形：
- 宽度：$f(x)$
- 高度：$g(x)$
- 面积：$A = f(x) \cdot g(x)$

```
      g(x)
    ┌──────┐
    │      │
f(x)│      │
    │      │
    └──────┘
```

当 $x$ 增加 $dx$ 时：
- 宽度变为 $f(x) + df$（其中 $df = f'(x) \cdot dx$）
- 高度变为 $g(x) + dg$（其中 $dg = g'(x) \cdot dx$）

```
         g(x)     dg
    ┌──────┬───┐
    │      │ ③ │
f(x)│  ①  │   │
    ├──────┼───┤
 df │  ②  │   │
    └──────┴───┘
```

**新增面积三部分**：
1. **区域①**（右侧）：$g(x) \cdot df$
2. **区域②**（顶部）：$f(x) \cdot dg$
3. **区域③**（右上角）：$df \cdot dg$ ← **高阶无穷小，忽略**！

**总变化**：
$$
d(fg) = g \cdot df + f \cdot dg
$$

除以 $dx$：
$$
\frac{d(fg)}{dx} = g \frac{df}{dx} + f \frac{dg}{dx} = f'g + fg'
$$

#### 代数证明

$$
\begin{aligned}
\frac{d}{dx}[f(x)g(x)] &= \lim_{dx \to 0} \frac{f(x+dx)g(x+dx) - f(x)g(x)}{dx} \\
&= \lim_{dx \to 0} \frac{f(x+dx)g(x+dx) - f(x)g(x+dx) + f(x)g(x+dx) - f(x)g(x)}{dx} \\
&= \lim_{dx \to 0} \left[ \frac{f(x+dx) - f(x)}{dx} \cdot g(x+dx) + f(x) \cdot \frac{g(x+dx) - g(x)}{dx} \right] \\
&= f'(x)g(x) + f(x)g'(x)
\end{aligned}
$$

#### 例子

**例1**：$\frac{d}{dx}(x^2 \cdot x^3)$

**方法1（乘积法则）**：
$$
f = x^2, \quad g = x^3
$$
$$
f' = 2x, \quad g' = 3x^2
$$
$$
(fg)' = (2x)(x^3) + (x^2)(3x^2) = 2x^4 + 3x^4 = 5x^4
$$

**方法2（先化简）**：
$$
x^2 \cdot x^3 = x^5 \implies \frac{d}{dx}(x^5) = 5x^4
$$

✓ 结果一致！

**例2**：$\frac{d}{dx}(x \sin x)$

$$
f = x, \quad g = \sin x
$$
$$
f' = 1, \quad g' = \cos x
$$
$$
(fg)' = 1 \cdot \sin x + x \cdot \cos x = \sin x + x\cos x
$$

**例3**：$\frac{d}{dx}(e^x \cdot x^2)$

$$
f = e^x, \quad g = x^2
$$
$$
f' = e^x, \quad g' = 2x
$$
$$
(fg)' = e^x \cdot x^2 + e^x \cdot 2x = e^x(x^2 + 2x)
$$

**例4**：$\frac{d}{dx}[(x^2+1)(x^3-2)]$

$$
f = x^2+1, \quad g = x^3-2
$$
$$
f' = 2x, \quad g' = 3x^2
$$
$$
(fg)' = 2x(x^3-2) + (x^2+1)(3x^2) = 2x^4 - 4x + 3x^4 + 3x^2 = 5x^4 + 3x^2 - 4x
$$

---

### ➗ 商法则（Quotient Rule）⭐⭐⭐

#### 定理

$$
\boxed{\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}}
$$

**记忆口诀**：
> "下导上减上导下，除以下平方"
> 
> "分母导数乘分子，减去分子导数乘分母，除以分母平方"

#### 推导（用乘积法则）

设 $h(x) = \frac{f(x)}{g(x)} = f(x) \cdot [g(x)]^{-1}$

用乘积法则：
$$
h'(x) = f'(x) \cdot [g(x)]^{-1} + f(x) \cdot \frac{d}{dx}[g(x)]^{-1}
$$

计算 $\frac{d}{dx}[g(x)]^{-1}$（用链式法则）：
$$
\frac{d}{dx}[g(x)]^{-1} = -[g(x)]^{-2} \cdot g'(x) = -\frac{g'(x)}{[g(x)]^2}
$$

代入：
$$
h'(x) = \frac{f'(x)}{g(x)} + f(x) \cdot \left(-\frac{g'(x)}{[g(x)]^2}\right) = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}
$$

#### 例子

**例1**：$\frac{d}{dx}\left(\frac{x^2}{x+1}\right)$

$$
f = x^2, \quad g = x+1
$$
$$
f' = 2x, \quad g' = 1
$$
$$
\left(\frac{f}{g}\right)' = \frac{2x(x+1) - x^2 \cdot 1}{(x+1)^2} = \frac{2x^2 + 2x - x^2}{(x+1)^2} = \frac{x^2 + 2x}{(x+1)^2}
$$

**例2**：$\frac{d}{dx}\left(\frac{\sin x}{x}\right)$

$$
f = \sin x, \quad g = x
$$
$$
f' = \cos x, \quad g' = 1
$$
$$
\left(\frac{f}{g}\right)' = \frac{\cos x \cdot x - \sin x \cdot 1}{x^2} = \frac{x\cos x - \sin x}{x^2}
$$

**例3**：$\frac{d}{dx}\left(\frac{1}{x}\right)$（验证）

$$
f = 1, \quad g = x
$$
$$
f' = 0, \quad g' = 1
$$
$$
\left(\frac{f}{g}\right)' = \frac{0 \cdot x - 1 \cdot 1}{x^2} = -\frac{1}{x^2}
$$

✓ 与幂法则 $\frac{d}{dx}(x^{-1}) = -x^{-2}$ 一致！

**例4**：$\frac{d}{dx}\left(\frac{e^x}{x^2+1}\right)$

$$
f = e^x, \quad g = x^2+1
$$
$$
f' = e^x, \quad g' = 2x
$$
$$
\left(\frac{f}{g}\right)' = \frac{e^x(x^2+1) - e^x \cdot 2x}{(x^2+1)^2} = \frac{e^x(x^2 + 1 - 2x)}{(x^2+1)^2}
$$

### 乘积法则

**定理**：
$$
\frac{d}{dx}[f(x) \cdot g(x)] = f'(x)g(x) + f(x)g'(x)
$$

**几何直观**：

想象一个矩形，边长为 $f(x)$ 和 $g(x)$，面积是 $f \cdot g$。

当 $x$ 变化 $dx$ 时：
- $f$ 变化 $df$，$g$ 变化 $dg$
- 新增面积包括三部分：
  1. 右侧新增矩形：$g \cdot df$（高 × 新增宽度）
  2. 顶部新增矩形：$f \cdot dg$（宽 × 新增高度）
  3. 右上角小方块：$df \cdot dg$（高阶无穷小，忽略）

因此：
$$
d(f \cdot g) = g \cdot df + f \cdot dg
$$

除以 $dx$：
$$
\frac{d(fg)}{dx} = g \frac{df}{dx} + f \frac{dg}{dx}
$$

**例子**：求 $(x^2)(x^3)$ 的导数

方法1（乘积法则）：
$$
\frac{d}{dx}[(x^2)(x^3)] = (2x)(x^3) + (x^2)(3x^2) = 2x^4 + 3x^4 = 5x^4
$$

方法2（先化简）：
$$
\frac{d}{dx}(x^5) = 5x^4
$$

结果一致！✓

**实际应用例子**：
$$
\frac{d}{dx}(x \cdot e^x) = 1 \cdot e^x + x \cdot e^x = (1+x)e^x
$$

### 商法则

**定理**：
$$
\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}
$$

**记忆口诀**："下导上减上导下，除以下平方"

**例子**：
$$
\frac{d}{dx}\left(\frac{x^2}{x+1}\right) = \frac{2x(x+1) - x^2 \cdot 1}{(x+1)^2} = \frac{2x^2 + 2x - x^2}{(x+1)^2} = \frac{x^2 + 2x}{(x+1)^2}
$$

### 🔗 链式法则（Chain Rule）⭐⭐⭐⭐⭐

> **微积分中最重要的法则！** 机器学习的反向传播就是链式法则！

#### 定理

$$
\boxed{\frac{d}{dx}[f(g(x))] = f'(g(x)) \cdot g'(x)}
$$

**另一种写法**（用复合函数记号）：
$$
(f \circ g)'(x) = f'(g(x)) \cdot g'(x)
$$

**莱布尼茨记号**（最直观）：
$$
\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}
$$

其中 $y = f(u)$，$u = g(x)$。

**记忆口诀**：
> "外层导数 × 内层导数"
> 
> "先对里面求导，再对外面求导"

#### 直观理解：传递效应

**情景1：连锁反应**

想象三个量的因果链：
$$
x \xrightarrow{\text{影响}} g(x) \xrightarrow{\text{影响}} f(g(x))
$$

- $x$ 变化 $dx$
- 导致 $g$ 变化：$dg = g'(x) \cdot dx$
- 导致 $f$ 变化：$df = f'(g) \cdot dg$

把两步连起来：
$$
df = f'(g) \cdot dg = f'(g) \cdot [g'(x) \cdot dx] = [f'(g) \cdot g'(x)] \cdot dx
$$

所以：
$$
\frac{df}{dx} = f'(g(x)) \cdot g'(x)
$$

**情景2：换挡的自行车**

- $x$：你踩踏板的速度（输入）
- $g(x)$：后轮的转速（中间）
- $f(g)$：自行车的速度（输出）

如果：
- 齿轮比 = $g'(x)$ = 3（踏板转1圈，后轮转3圈）
- 车轮周长 = $f'(g)$ = 2米（后轮转1圈，前进2米）

那么：
- 踏板转速对车速的影响 = $3 \times 2 = 6$ 米/圈
- 这就是链式法则！

#### 莱布尼茨记号的魔力

$$
\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}
$$

**看起来像分数约分**！
- $du$ 在分子和分母上"约掉"了
- 虽然不是真的约分，但符号提示了正确的规则！

这就是为什么莱布尼茨的记号这么天才！

#### 代数证明

设 $y = f(u)$，$u = g(x)$，则：
$$
\frac{dy}{dx} = \lim_{dx \to 0} \frac{f(g(x+dx)) - f(g(x))}{dx}
$$

引入中间变量 $u = g(x)$，$u + du = g(x+dx)$：
$$
\frac{dy}{dx} = \lim_{dx \to 0} \frac{f(u+du) - f(u)}{dx}
$$

乘以 $\frac{du}{du}$（等于1）：
$$
\frac{dy}{dx} = \lim_{dx \to 0} \frac{f(u+du) - f(u)}{du} \cdot \frac{du}{dx}
$$

当 $dx \to 0$ 时，$du \to 0$（假设 $g$ 连续）：
$$
\frac{dy}{dx} = \lim_{du \to 0} \frac{f(u+du) - f(u)}{du} \cdot \lim_{dx \to 0} \frac{du}{dx} = f'(u) \cdot g'(x) = f'(g(x)) \cdot g'(x)
$$

---

#### 例子：从简单到复杂

**例1**：$(x^2 + 1)^3$

**识别结构**：
- 外层：$f(u) = u^3$
- 内层：$u = g(x) = x^2 + 1$

**计算导数**：
- 外层导数：$f'(u) = 3u^2 = 3(x^2+1)^2$
- 内层导数：$g'(x) = 2x$

**结果**：
$$
\frac{d}{dx}[(x^2+1)^3] = 3(x^2+1)^2 \cdot 2x = 6x(x^2+1)^2
$$

**验证**（展开后求导）：
$$
(x^2+1)^3 = x^6 + 3x^4 + 3x^2 + 1
$$
$$
\frac{d}{dx} = 6x^5 + 12x^3 + 6x
$$
$$
= 6x(x^4 + 2x^2 + 1) = 6x(x^2+1)^2 \quad ✓
$$

---

**例2**：$\sin(x^2)$

**识别结构**：
- 外层：$f(u) = \sin(u)$
- 内层：$u = x^2$

**计算**：
- 外层导数：$\cos(u) = \cos(x^2)$
- 内层导数：$2x$

**结果**：
$$
\frac{d}{dx}[\sin(x^2)] = \cos(x^2) \cdot 2x = 2x\cos(x^2)
$$

---

**例3**：$e^{3x}$

**识别结构**：
- 外层：$f(u) = e^u$
- 内层：$u = 3x$

**计算**：
- 外层导数：$e^u = e^{3x}$
- 内层导数：$3$

**结果**：
$$
\frac{d}{dx}(e^{3x}) = e^{3x} \cdot 3 = 3e^{3x}
$$

---

**例4**：$\sqrt{1 + x^2}$

**改写**：$(1 + x^2)^{1/2}$

**识别结构**：
- 外层：$f(u) = u^{1/2}$
- 内层：$u = 1 + x^2$

**计算**：
- 外层导数：$\frac{1}{2}u^{-1/2} = \frac{1}{2\sqrt{1+x^2}}$
- 内层导数：$2x$

**结果**：
$$
\frac{d}{dx}\sqrt{1+x^2} = \frac{1}{2\sqrt{1+x^2}} \cdot 2x = \frac{x}{\sqrt{1+x^2}}
$$

---

**例5**：$\ln(x^2 + 1)$

**识别结构**：
- 外层：$f(u) = \ln(u)$
- 内层：$u = x^2 + 1$

**计算**：
- 外层导数：$\frac{1}{u} = \frac{1}{x^2+1}$
- 内层导数：$2x$

**结果**：
$$
\frac{d}{dx}[\ln(x^2+1)] = \frac{1}{x^2+1} \cdot 2x = \frac{2x}{x^2+1}
$$

---

#### 多重链式法则（嵌套函数）

**例6**：$\sin^2(3x)$

**改写**：$[\sin(3x)]^2$

**识别三层结构**：
1. 最外层：$f(u) = u^2$，其中 $u = \sin(3x)$
2. 中间层：$u = \sin(v)$，其中 $v = 3x$
3. 最内层：$v = 3x$

**逐层求导**：

**第1步**（最外层）：
$$
\frac{d}{du}(u^2) = 2u = 2\sin(3x)
$$

**第2步**（中间层）：
$$
\frac{d}{dv}(\sin v) = \cos v = \cos(3x)
$$

**第3步**（最内层）：
$$
\frac{d}{dx}(3x) = 3
$$

**连起来**（链式法则）：
$$
\frac{d}{dx}[\sin^2(3x)] = 2\sin(3x) \cdot \cos(3x) \cdot 3 = 6\sin(3x)\cos(3x)
$$

**化简**（用二倍角公式 $2\sin\theta\cos\theta = \sin(2\theta)$）：
$$
= 3 \cdot 2\sin(3x)\cos(3x) = 3\sin(6x)
$$

---

**例7**：$e^{\sin(x^2)}$

**识别三层结构**：
1. 最外层：$e^u$，$u = \sin(x^2)$
2. 中间层：$\sin(v)$，$v = x^2$
3. 最内层：$x^2$

**逐层求导**：
$$
\frac{d}{dx}[e^{\sin(x^2)}] = e^{\sin(x^2)} \cdot \cos(x^2) \cdot 2x = 2xe^{\sin(x^2)}\cos(x^2)
$$

---

**例8**：$\left(\sqrt{x^2+1}\right)^3$

**改写**：$(x^2+1)^{3/2}$

**识别结构**：
- 外层：$u^{3/2}$
- 内层：$u = x^2+1$

**计算**：
$$
\frac{d}{dx}[(x^2+1)^{3/2}] = \frac{3}{2}(x^2+1)^{1/2} \cdot 2x = 3x\sqrt{x^2+1}
$$

---

#### 🚀 链式法则在机器学习中的应用

**反向传播（Backpropagation）**就是链式法则的应用！

**神经网络例子**：
$$
x \xrightarrow{W_1} z_1 \xrightarrow{\sigma} a_1 \xrightarrow{W_2} z_2 \xrightarrow{\sigma} \hat{y}
$$

**前向传播**：
$$
z_1 = W_1 x, \quad a_1 = \sigma(z_1), \quad z_2 = W_2 a_1, \quad \hat{y} = \sigma(z_2)
$$

**损失函数**：
$$
L = \frac{1}{2}(y - \hat{y})^2
$$

**反向传播**（用链式法则）：
$$
\frac{\partial L}{\partial W_1} = \frac{\partial L}{\partial \hat{y}} \cdot \frac{\partial \hat{y}}{\partial z_2} \cdot \frac{\partial z_2}{\partial a_1} \cdot \frac{\partial a_1}{\partial z_1} \cdot \frac{\partial z_1}{\partial W_1}
$$

**这就是链式法则的连续应用！**

---

#### 🧪 练习题

**练习1**：$\frac{d}{dx}[(2x+1)^5]$

<details>
<summary>答案</summary>

$$
\frac{d}{dx}[(2x+1)^5] = 5(2x+1)^4 \cdot 2 = 10(2x+1)^4
$$
</details>

**练习2**：$\frac{d}{dx}[\cos(x^3)]$

<details>
<summary>答案</summary>

$$
\frac{d}{dx}[\cos(x^3)] = -\sin(x^3) \cdot 3x^2 = -3x^2\sin(x^3)
$$
</details>

**练习3**：$\frac{d}{dx}[e^{-x^2}]$

<details>
<summary>答案</summary>

$$
\frac{d}{dx}[e^{-x^2}] = e^{-x^2} \cdot (-2x) = -2xe^{-x^2}
$$
</details>

**练习4**：$\frac{d}{dx}[\ln(\sin x)]$

<details>
<summary>答案</summary>

$$
\frac{d}{dx}[\ln(\sin x)] = \frac{1}{\sin x} \cdot \cos x = \frac{\cos x}{\sin x} = \cot x
$$
</details>

---

### 🎯 本章要点

1. **和与常数倍**：$(f+g)' = f' + g'$，$(cf)' = cf'$
2. **乘积法则**：$(fg)' = f'g + fg'$（矩形面积直观）
3. **商法则**：$\left(\frac{f}{g}\right)' = \frac{f'g - fg'}{g^2}$
4. **链式法则**：$(f \circ g)' = f'(g) \cdot g'$ ⭐ 最重要！
   - 外层导数 × 内层导数
   - 莱布尼茨记号：$\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}$
   - 机器学习的反向传播就是链式法则！

**记住**：
> 链式法则是微积分中最强大的工具，
> 掌握它，你就能求任何复杂函数的导数！

---

## 第5章：指数函数的导数

### 自然指数 $e$ 的特殊性质

**定理**：
$$
\frac{d}{dx}(e^x) = e^x
$$

**含义**：$e^x$ 的导数等于它自己！这是 $e$ 最神奇的性质。

### 为什么是 $e$？

**$e$ 的定义**：
$$
e = \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n \approx 2.71828\ldots
$$

**另一种定义**（复利视角）：
- 本金 $1$ 元
- 年利率 $100\%$
- 每年复利 $n$ 次
- 当 $n \to \infty$（连续复利），最终金额 → $e$

### 直观理解

对于 $y = e^x$：
- 在 $x=0$ 处，$y=1$，斜率也是 $1$
- 在 $x=1$ 处，$y=e$，斜率也是 $e$
- 在任意点，**高度 = 斜率**

这就像一个"自我强化"的增长：增长速度正好等于当前大小！

### 其他指数函数

**定理**：
$$
\frac{d}{dx}(a^x) = a^x \ln(a)
$$

**推导**：将 $a^x$ 改写为 $e^{x\ln a}$，然后用链式法则。

**直观**：$\ln(a)$ 是"换底修正因子"。
- 当 $a=e$ 时，$\ln(e) = 1$，所以 $\frac{d}{dx}(e^x) = e^x \cdot 1 = e^x$ ✓
- 当 $a=2$ 时，$\frac{d}{dx}(2^x) = 2^x \ln(2) \approx 0.693 \cdot 2^x$
- 当 $a=10$ 时，$\frac{d}{dx}(10^x) = 10^x \ln(10) \approx 2.303 \cdot 10^x$

### 对数函数的导数

**定理**：
$$
\frac{d}{dx}(\ln x) = \frac{1}{x}
$$

**推导**：利用 $y = \ln x$ 等价于 $e^y = x$，对两边求导：
$$
e^y \frac{dy}{dx} = 1 \implies \frac{dy}{dx} = \frac{1}{e^y} = \frac{1}{x}
$$

**一般对数**：
$$
\frac{d}{dx}(\log_a x) = \frac{1}{x \ln a}
$$

---

## 第6章：隐函数求导

### 什么是隐函数？

**显函数**：$y$ 明确表示为 $x$ 的函数
- 例：$y = x^2 + 3x$

**隐函数**：$x$ 和 $y$ 混在一起
- 例：$x^2 + y^2 = 25$（圆的方程）

### 问题

如何求圆 $x^2 + y^2 = 25$ 上任意点的切线斜率 $\frac{dy}{dx}$？

### 方法：隐函数求导

**步骤1**：把方程两边同时对 $x$ 求导
$$
\frac{d}{dx}(x^2) + \frac{d}{dx}(y^2) = \frac{d}{dx}(25)
$$

**步骤2**：注意 $y$ 是 $x$ 的函数，对 $y^2$ 用链式法则
$$
2x + 2y \frac{dy}{dx} = 0
$$

**步骤3**：解出 $\frac{dy}{dx}$
$$
2y \frac{dy}{dx} = -2x
$$
$$
\frac{dy}{dx} = -\frac{x}{y}
$$

**几何意义**：
- 在点 $(3, 4)$：斜率 = $-\frac{3}{4}$
- 在点 $(0, 5)$：斜率 = $0$（水平切线）
- 在点 $(5, 0)$：斜率不存在（竖直切线）

**验证**：半径方向是 $(x, y)$，切线垂直于半径，所以斜率乘积 = $-1$：
$$
\frac{y}{x} \cdot \left(-\frac{x}{y}\right) = -1 \quad \checkmark
$$

### 更复杂的例子

**问题**：求 $x^3 + y^3 = 6xy$ 的导数（笛卡尔叶形线）

**解法**：
$$
\frac{d}{dx}(x^3) + \frac{d}{dx}(y^3) = \frac{d}{dx}(6xy)
$$
$$
3x^2 + 3y^2 \frac{dy}{dx} = 6y + 6x\frac{dy}{dx}
$$
$$
3y^2 \frac{dy}{dx} - 6x\frac{dy}{dx} = 6y - 3x^2
$$
$$
\frac{dy}{dx}(3y^2 - 6x) = 6y - 3x^2
$$
$$
\frac{dy}{dx} = \frac{6y - 3x^2}{3y^2 - 6x} = \frac{2y - x^2}{y^2 - 2x}
$$

**关键技巧**：把 $y$ 看作 $x$ 的隐函数，用链式法则！

---

## 第7章：极限的严格定义

### 为什么需要严格定义？

在第2章我们已经直观理解了极限，但数学家需要更精确的定义，避免"无穷小"这种模糊概念。

### ε-δ 定义

$$
\lim_{x \to a} f(x) = L \iff \forall \epsilon > 0, \exists \delta > 0 \text{ s.t. } 0 < |x-a| < \delta \Rightarrow |f(x) - L| < \epsilon
$$

### 白话翻译

**符号含义**：
- $\forall$：对于任意（for all）
- $\exists$：存在（there exists）
- $\epsilon$（epsilon）：输出误差，你要求的精度
- $\delta$（delta）：输入范围

**含义**：
> 无论你要求输出多精确（给我一个 $\epsilon > 0$），我都能找到一个输入范围（$\delta > 0$），使得当 $x$ 在 $a$ 附近 $\delta$ 范围内时，$f(x)$ 在 $L$ 附近 $\epsilon$ 范围内。

### 图形理解

想象一个"挑战-应战"游戏：
1. 你（挑战者）：要求 $|f(x) - L| < 0.01$（输出误差 < 0.01）
2. 我（应战者）：找到 $\delta$，使得 $|x-a| < \delta \Rightarrow |f(x) - L| < 0.01$
3. 你：要求更严格，$|f(x) - L| < 0.0001$
4. 我：找到更小的 $\delta$
5. ……无论你怎么要求，我都能找到对应的 $\delta$

如果我能永远应战成功，就说 $\lim_{x \to a} f(x) = L$。

### 例子：证明 $\lim_{x \to 2} (3x + 1) = 7$

**目标**：对任意 $\epsilon > 0$，找 $\delta$ 使得当 $|x-2| < \delta$ 时，$|(3x+1) - 7| < \epsilon$。

**分析**：
$$
|(3x+1) - 7| = |3x - 6| = 3|x - 2|
$$

要使 $3|x-2| < \epsilon$，只需 $|x-2| < \frac{\epsilon}{3}$。

**结论**：取 $\delta = \frac{\epsilon}{3}$，证毕！✓

---

## 第8章：积分与面积

### 核心思想

**积分 = 无限细分后求和**

### 问题：如何求曲线下方的面积？

考虑函数 $f(x) = x^2$，求从 $x=0$ 到 $x=3$ 之间曲线下方的面积。

### 方法：黎曼和（Riemann Sum）

**步骤1**：将区间 $[a, b]$ 分成 $n$ 个小矩形

每个矩形：
- 宽度：$\Delta x = \frac{b-a}{n}$
- 高度：$f(x_i)$（在第 $i$ 个位置的函数值）

**步骤2**：求所有矩形面积之和
$$
\text{面积} \approx \sum_{i=1}^n f(x_i) \Delta x
$$

**步骤3**：让 $n \to \infty$（矩形无限细）
$$
\text{精确面积} = \lim_{n \to \infty} \sum_{i=1}^n f(x_i) \Delta x
$$

### 积分符号

这个极限记作：
$$
\int_a^b f(x) \, dx
$$

读作："$f(x)$ 从 $a$ 到 $b$ 的积分"

**符号来历**：
- $\int$：拉长的 S（Sum 的首字母）
- $dx$：无穷小的宽度（来自 $\Delta x$）

### 具体例子

**问题**：求 $\int_0^3 x^2 \, dx$

用黎曼和：
$$
\sum_{i=1}^n \left(\frac{3i}{n}\right)^2 \cdot \frac{3}{n} = \frac{27}{n^3} \sum_{i=1}^n i^2
$$

利用公式 $\sum_{i=1}^n i^2 = \frac{n(n+1)(2n+1)}{6}$：
$$
= \frac{27}{n^3} \cdot \frac{n(n+1)(2n+1)}{6} \to 9 \quad \text{(当 } n \to \infty \text{)}
$$

所以 $\int_0^3 x^2 \, dx = 9$。

### 几何意义

- **导数**：瞬时变化率（斜率）
- **积分**：累积量（面积）

它们是**互逆操作**（下一章会证明）！

---

## 第9章：高阶导数

### 什么是高阶导数？

导数的导数，就是**高阶导数**！

- $f'(x)$：一阶导数
- $f''(x)$：二阶导数（一阶导数的导数）
- $f'''(x)$：三阶导数
- $f^{(n)}(x)$：$n$ 阶导数

### 符号表示

$$
f''(x) = \frac{d^2f}{dx^2} = \frac{d}{dx}\left(\frac{df}{dx}\right)
$$

**注意**：$\frac{d^2f}{dx^2}$ 不是 $\frac{d^2f}{(dx)^2}$，只是一个符号约定！

### 物理意义

对于位置函数 $s(t)$（时间-位移关系）：

1. **一阶导数**：速度
   $$
   v(t) = s'(t) = \frac{ds}{dt}
   $$
   - 含义：位置的变化率

2. **二阶导数**：加速度
   $$
   a(t) = v'(t) = s''(t) = \frac{d^2s}{dt^2}
   $$
   - 含义：速度的变化率

3. **三阶导数**：加加速度（jerk）
   $$
   j(t) = a'(t) = s'''(t)
   $$
   - 含义：加速度的变化率
   - 应用：电梯设计（让乘客感觉舒适）

### 例子

**函数**：$s(t) = t^3 - 6t^2 + 9t$

- 一阶：$s'(t) = 3t^2 - 12t + 9$
- 二阶：$s''(t) = 6t - 12$
- 三阶：$s'''(t) = 6$
- 四阶：$s^{(4)}(t) = 0$（多项式最终导数变0）

### 凹凸性

**二阶导数判断曲线凹凸**：
- $f''(x) > 0$：**凹函数**（曲线向上弯，smile 😊）
- $f''(x) < 0$：**凸函数**（曲线向下弯，frown ☹️）
- $f''(x) = 0$：可能是**拐点**（凹凸性改变）

**例子**：$f(x) = x^2$
- $f''(x) = 2 > 0$，处处凹（抛物线开口向上）

---

## 第10章：微积分基本定理（The Fundamental Theorem of Calculus）

> **这是微积分中最重要的定理！**它把导数和积分这两个看似无关的概念联系起来。

---

### 📖 历史背景：牛顿与莱布尼茨的世纪之争

#### 两位天才的独立发现

**艾萨克·牛顿（Isaac Newton, 1643-1727）**
- 英国物理学家、数学家
- 1665-1666年（23岁），在躲避瘟疫期间发明微积分
- 称之为"流数法"（Method of Fluxions）
- 动机：研究行星运动和物理学问题

**戈特弗里德·莱布尼茨（Gottfried Wilhelm Leibniz, 1646-1716）**
- 德国数学家、哲学家
- 1675年（29岁）独立发明微积分
- 引入了 $\int$、$dx$、$dy$ 等符号（我们今天还在用！）
- 动机：哲学思考和数学研究

#### 优先权之争

- 牛顿先发现（1665-1666），但直到1704年才发表
- 莱布尼茨后发现（1675），但在1684年就发表了
- 引发了长达几十年的激烈争论
- 今天我们认为：**两人独立发现，都是微积分的共同创始人**

#### 为什么叫"牛顿-莱布尼茨公式"？

因为这个公式是他们最核心的发现：
- **牛顿**：用"流数"（导数）和"反流数"（积分）研究物理
- **莱布尼茨**：用几何方法发现积分和求导互逆

这个定理把他们的工作统一了，所以用两人名字命名！

---

### 定理内容：逐符号详解

#### 第一部分（FTC Part 1）

$$
\frac{d}{dx} \int_a^x f(t) \, dt = f(x)
$$

**逐个符号解释**：

1. **$\frac{d}{dx}$**
   - 读作："对 $x$ 求导"
   - $d$ 来自拉丁文"differentia"（差异）
   - 意思：计算关于 $x$ 的变化率

2. **$\int_a^x$**
   - 读作："从 $a$ 到 $x$ 的积分"
   - $\int$ 是拉长的 S，代表"Sum"（求和）
   - $a$：**下限**（起点，固定的）
   - $x$：**上限**（终点，会变动的）

3. **$f(t)$**
   - 被积函数（要累加的函数）
   - 为什么用 $t$ 不用 $x$？因为外面的 $x$ 已经被用掉了！
   - $t$ 是**哑变量**（dummy variable），叫什么都行（$s$、$u$、$\tau$ 都可以）

4. **$dt$**
   - 读作："dee tee"
   - 代表无穷小的 $t$ 增量
   - 想象成"一个极小的 $t$ 段"

5. **$= f(x)$**
   - 等于：在 $x$ 处的函数值
   - 神奇之处：求完积分再求导，回到了原函数！

**用大白话说**：
> 如果你从 $a$ 累积到 $x$（积分），然后问"累积速度是多少"（求导），答案就是"当前的高度 $f(x)$"！

#### 第二部分（FTC Part 2，牛顿-莱布尼茨公式）

$$
\int_a^b f(x) \, dx = F(b) - F(a)
$$

**逐个符号解释**：

1. **$\int_a^b$**
   - 从 $a$ 到 $b$ 的**定积分**
   - $a$ 和 $b$ 都是**固定的**（不像Part 1那样 $x$ 会动）
   - 几何意义：曲线下方从 $a$ 到 $b$ 的面积

2. **$f(x)$**
   - 被积函数
   - 这里用 $x$ 是因为它是哑变量（求完积分就消失了）

3. **$dx$**
   - 微小的 $x$ 增量
   - 莱布尼茨的天才记号！
   - 提醒我们：积分是"无穷多个小矩形面积相加"

4. **$F(b) - F(a)$**
   - $F$ 是大写，表示 $f$ 的**原函数**（反导数）
   - $F'(x) = f(x)$（$F$ 求导后得到 $f$）
   - $F(b)$：在右端点 $b$ 处的 $F$ 值
   - $F(a)$：在左端点 $a$ 处的 $F$ 值
   - **相减**：两端点的差值

**简写记号**：
$$
\int_a^b f(x) \, dx = F(x) \Big|_a^b = [F(x)]_a^b
$$

读作："$F(x)$ 从 $a$ 到 $b$"

**其中**：
$$
F'(x) = f(x)
$$
意思是：$F$ 是 $f$ 的**原函数**（antiderivative）或**不定积分**（indefinite integral）

**用大白话说**：
> 要算曲线下方的面积（积分），不用傻乎乎地算无穷多个小矩形，只需要：
> 1. 找到一个函数 $F$，它的导数是 $f$
> 2. 算 $F$ 在两端点的差值
> 3. 完成！

---

### 为什么这个定理如此革命性？

#### 革命之处1：计算变简单

**以前**（没有基本定理）：
- 要算 $\int_0^3 x^2 dx$，需要：
  1. 把区间分成 $n$ 份
  2. 算黎曼和：$\sum_{i=1}^n \left(\frac{3i}{n}\right)^2 \cdot \frac{3}{n}$
  3. 让 $n \to \infty$，求极限
  4. 非常复杂！

**现在**（有了基本定理）：
- 找原函数：$F(x) = \frac{x^3}{3}$（因为 $F'(x) = x^2$）
- 算差值：$F(3) - F(0) = \frac{27}{3} - 0 = 9$
- 完成！秒杀！

#### 革命之处2：揭示深刻联系

**表面上**：
- 导数：斜率、变化率（局部性质）
- 积分：面积、累积量（全局性质）
- 看起来毫无关系！

**实际上**：
- 它们是**互逆操作**！
- 导数"拆开"，积分"组合"
- 就像加法和减法、乘法和除法一样

#### 革命之处3：统一数学与物理

**物理学**：
- 位置 $s(t)$ → 求导 → 速度 $v(t)$
- 速度 $v(t)$ → 积分 → 位移 $\Delta s$
- 基本定理说：$\int_{t_1}^{t_2} v(t) \, dt = s(t_2) - s(t_1)$

**经济学**：
- 总成本 $C(q)$ → 求导 → 边际成本 $C'(q)$
- 边际成本 → 积分 → 总成本变化

**工程学**：
- 电流 $I(t)$ → 积分 → 电荷 $Q$
- 力 $F(x)$ → 积分 → 功 $W$

### 直观理解

**核心洞察**：
- **导数**：瞬时变化率
- **积分**：累积变化
- **基本定理**：累积所有瞬时变化 = 总变化

### 类比：速度与位移

你开车从 A 地到 B 地：
- 速度 $v(t)$：瞬时变化率
- 位移 $s$：累积的移动

**基本定理说**：
$$
\int_0^T v(t) \, dt = s(T) - s(0) = \text{总位移}
$$

### 第一部分详解

定义面积函数：
$$
A(x) = \int_a^x f(t) \, dt
$$

这表示从 $a$ 到 $x$ 之间曲线下方的面积。

**问题**：$A(x)$ 的变化率是多少？

**答案**：
$$
A'(x) = f(x)
$$

**直观**：当 $x$ 增加一点 $dx$ 时，新增面积约为 $f(x) \cdot dx$（高度 × 宽度），所以：
$$
\frac{dA}{dx} = f(x)
$$

**神奇之处**：面积函数的斜率 = 原函数的高度！

### 第二部分详解（如何计算积分）

**问题**：如何计算 $\int_a^b f(x) \, dx$？

**方法**：
1. 找到 $f(x)$ 的原函数 $F(x)$（即 $F'(x) = f(x)$）
2. 计算 $F(b) - F(a)$

**例子1**：计算 $\int_0^3 x^2 \, dx$

- 原函数：$F(x) = \frac{x^3}{3}$（验证：$F'(x) = x^2$ ✓）
- 结果：$F(3) - F(0) = \frac{27}{3} - 0 = 9$

**例子2**：计算 $\int_1^4 \frac{1}{x} \, dx$

- 原函数：$F(x) = \ln x$
- 结果：$\ln 4 - \ln 1 = \ln 4 \approx 1.386$

### 为什么这个定理如此重要？

**革命性意义**：
1. **计算变简单**：不用算黎曼和的极限，只需算两个函数值之差！
2. **导数和积分统一**：它们不是两个独立的概念，而是互逆操作
3. **理论基础**：整个微积分体系的核心

**记号**：
$$
\int_a^b f(x) \, dx = F(x) \Big|_a^b = [F(x)]_a^b = F(b) - F(a)
$$

### 完整例子

**问题**：一个物体以 $v(t) = 3t^2$ 的速度运动，求从 $t=1$ 到 $t=3$ 的位移。

**解法**：
$$
s = \int_1^3 3t^2 \, dt
$$

找原函数：$S(t) = t^3$（因为 $S'(t) = 3t^2$）

计算：
$$
s = S(3) - S(1) = 27 - 1 = 26 \text{ 米}
$$

---

## 第11章：面积和斜率的关系

> 这一章深化第10章的理解，展示积分和导数之间深刻的对偶关系。

### 核心洞察

定义**面积函数**：
$$
A(x) = \int_a^x f(t) \, dt
$$

这表示从固定点 $a$ 到变动点 $x$ 之间，函数 $f(t)$ 下方的面积。

**惊人的结论**：
$$
A'(x) = f(x)
$$

**反过来说**：面积函数的斜率 = 原函数的高度！

### 详细推导

让我们证明 $A'(x) = f(x)$。

**步骤1**：写出导数定义
$$
A'(x) = \lim_{h \to 0} \frac{A(x+h) - A(x)}{h}
$$

**步骤2**：用积分表示
$$
A(x+h) = \int_a^{x+h} f(t) \, dt
$$
$$
A(x) = \int_a^x f(t) \, dt
$$

**步骤3**：计算差值
$$
A(x+h) - A(x) = \int_a^{x+h} f(t) \, dt - \int_a^x f(t) \, dt = \int_x^{x+h} f(t) \, dt
$$

这是从 $x$ 到 $x+h$ 的窄条面积！

**步骤4**：估算窄条面积

当 $h$ 很小时，这个窄条近似为矩形：
- 宽度：$h$
- 高度：约为 $f(x)$（因为 $f$ 在 $[x, x+h]$ 上变化很小）

所以：
$$
\int_x^{x+h} f(t) \, dt \approx f(x) \cdot h
$$

**步骤5**：取极限
$$
A'(x) = \lim_{h \to 0} \frac{f(x) \cdot h}{h} = f(x)
$$

证毕！✓

### 可视化理解

**想象一个滑动的垂直线**：
1. 从左到右扫过曲线
2. 当线向右移动 $dx$ 时，新增一个窄条
3. 窄条面积 $\approx f(x) \cdot dx$
4. 面积的变化率 = $\frac{dA}{dx} = f(x)$

**动态视角**：
- 面积函数 $A(x)$ 像一个"累加器"
- 每移动一步，累加的速率就是 $f(x)$
- 这就是微积分基本定理第一部分！

### 例子：具体计算

**函数**：$f(x) = x^2$

**面积函数**：
$$
A(x) = \int_0^x t^2 \, dt = \frac{x^3}{3}
$$

**验证**：
$$
A'(x) = \frac{d}{dx}\left(\frac{x^3}{3}\right) = x^2 = f(x) \quad \checkmark
$$

**几何意义**：
- 当 $x=2$ 时，$A(2) = \frac{8}{3} \approx 2.67$（从0到2的面积）
- $A'(2) = 4$（在 $x=2$ 处，面积增长速率是4）
- $f(2) = 4$（在 $x=2$ 处，函数高度是4）

**神奇之处**：面积增长的速度恰好等于函数的高度！

---

## 第12章：指数增长与 $e$ 的深入理解

> 为什么 $e \approx 2.71828$ 如此特殊？它在自然界和数学中无处不在！

### 复利问题的引入

**问题**：你在银行存了 $1$ 元，年利率 $100\%$。

**情况1**：年末一次性计息
$$
\text{年末金额} = 1 \times (1 + 1) = 2 \text{ 元}
$$

**情况2**：半年计息一次（年利率分两半）
$$
\text{年末金额} = 1 \times \left(1 + \frac{1}{2}\right)^2 = 1.5^2 = 2.25 \text{ 元}
$$

**情况3**：每季度计息
$$
1 \times \left(1 + \frac{1}{4}\right)^4 \approx 2.44 \text{ 元}
$$

**情况4**：每月计息
$$
1 \times \left(1 + \frac{1}{12}\right)^{12} \approx 2.61 \text{ 元}
$$

**问题**：如果**连续**计息（每秒、每毫秒……），极限是多少？

### $e$ 的定义

**答案**：
$$
e = \lim_{n \to \infty} \left(1 + \frac{1}{n}\right)^n \approx 2.71828\ldots
$$

这是一个数学常数，就像 $\pi$ 一样重要！

### 为什么连续复利会收敛？

直观上，复利频率越高，收益越多，但增长会**放缓**：
- $n=1$: $2.00$
- $n=2$: $2.25$
- $n=12$: $2.61$
- $n=365$: $2.7146$
- $n=10000$: $2.7181$
- $n \to \infty$: $2.71828\ldots = e$

虽然分的次数越来越多，但每次分得的利率越来越小，两者相互抵消，收敛到 $e$。

### 一般复利公式

**本金** $P$，**年利率** $r$，**每年复利** $n$ 次，**$t$ 年后**：
$$
A = P \left(1 + \frac{r}{n}\right)^{nt}
$$

**连续复利**（$n \to \infty$）：
$$
A = Pe^{rt}
$$

**例子**：存 $1000$ 元，年利率 $5\%$，连续复利，$10$ 年后：
$$
A = 1000 \cdot e^{0.05 \times 10} = 1000 \cdot e^{0.5} \approx 1648.72 \text{ 元}
$$

### 为什么 $\frac{d}{dx}(e^x) = e^x$？

这是 $e$ 的**定义性质**！

**直观理解**：
- $e^x$ 的增长率**正好等于它自身**
- 当前值越大，增长越快
- 这是"自我强化"的完美增长

**数学推导**（用定义）：
$$
\frac{d}{dx}(e^x) = \lim_{h \to 0} \frac{e^{x+h} - e^x}{h} = e^x \lim_{h \to 0} \frac{e^h - 1}{h}
$$

关键是证明：$\lim_{h \to 0} \frac{e^h - 1}{h} = 1$

这可以用 $e$ 的定义 $e = \lim_{n \to \infty} (1 + \frac{1}{n})^n$ 推导出来。

### 自然增长的模型

**种群增长**：如果增长率与当前数量成正比
$$
\frac{dP}{dt} = kP
$$

解是：
$$
P(t) = P_0 e^{kt}
$$

**放射性衰变**：衰变率与当前数量成正比
$$
\frac{dN}{dt} = -\lambda N
$$

解是：
$$
N(t) = N_0 e^{-\lambda t}
$$

**核心**：只要变化率正比于当前值，就会出现指数函数！

---

## 第13章：隐函数求导的应用

> 回顾并深化第6章内容，展示更多实际应用

### 回顾：圆的切线

圆 $x^2 + y^2 = r^2$ 上任意点的切线斜率：
$$
\frac{dy}{dx} = -\frac{x}{y}
$$

**在点 $(x_0, y_0)$ 处的切线方程**：
$$
y - y_0 = -\frac{x_0}{y_0}(x - x_0)
$$

**例子**：圆 $x^2 + y^2 = 25$ 在点 $(3, 4)$ 的切线

- 斜率：$m = -\frac{3}{4}$
- 方程：$y - 4 = -\frac{3}{4}(x - 3)$
- 化简：$3x + 4y = 25$

**验证**：半径向量 $(3, 4)$ 与切线垂直 ✓

### 椭圆的切线

**方程**：$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$

**隐函数求导**：
$$
\frac{2x}{a^2} + \frac{2y}{b^2} \frac{dy}{dx} = 0
$$
$$
\frac{dy}{dx} = -\frac{b^2 x}{a^2 y}
$$

### 相关变化率问题

**经典问题**：梯子滑落

一架 $5$ 米长的梯子靠墙放置。梯子底部以 $0.5$ m/s 的速度离开墙壁。当底部距墙 $3$ 米时，梯子顶部下滑速度是多少？

**分析**：
- $x$：底部距墙距离
- $y$：顶部距地高度
- 约束：$x^2 + y^2 = 25$

**对时间求导**：
$$
2x \frac{dx}{dt} + 2y \frac{dy}{dt} = 0
$$

当 $x=3$ 时，$y = 4$，且 $\frac{dx}{dt} = 0.5$：
$$
2(3)(0.5) + 2(4)\frac{dy}{dt} = 0
$$
$$
\frac{dy}{dt} = -\frac{3}{8} = -0.375 \text{ m/s}
$$

（负号表示向下）

---

## 第14章：优化问题与极值

> 利用导数找函数的最大值和最小值

### 极值的必要条件

**费马定理**：如果 $f(x)$ 在 $x=c$ 处有极值，且 $f'(c)$ 存在，则：
$$
f'(c) = 0
$$

**临界点**：使 $f'(x) = 0$ 或 $f'(x)$ 不存在的点。

### 极值判断

**一阶导数判别法**：
- $f'(x)$ 从正变负 → 极大值
- $f'(x)$ 从负变正 → 极小值

**二阶导数判别法**：设 $f'(c) = 0$
- $f''(c) > 0$ → $c$ 是极小值点（凹函数）
- $f''(c) < 0$ → $c$ 是极大值点（凸函数）
- $f''(c) = 0$ → 无法判断，需更高阶导数

### 例子：最优化问题

**问题**：用 $100$ 米篱笆围成矩形，如何使面积最大？

**设**：长为 $x$，宽为 $y$，约束 $2x + 2y = 100$

**目标**：最大化 $A = xy$

用约束消去 $y$：$y = 50 - x$
$$
A(x) = x(50 - x) = 50x - x^2
$$

**求导**：
$$
A'(x) = 50 - 2x = 0 \implies x = 25
$$

**验证**：$A''(x) = -2 < 0$，确实是极大值！

**答案**：正方形（$25 \times 25$）面积最大，为 $625$ m²。

### 拉格朗日乘数法（预告）

当约束更复杂时（如 $g(x,y) = 0$），用拉格朗日乘数法：

**构造**：
$$
\mathcal{L}(x, y, \lambda) = f(x, y) - \lambda g(x, y)
$$

**条件**：
$$
\frac{\partial \mathcal{L}}{\partial x} = 0, \quad \frac{\partial \mathcal{L}}{\partial y} = 0, \quad \frac{\partial \mathcal{L}}{\partial \lambda} = 0
$$

这在多元微积分中会详细学习！

---

## 第15章：泰勒级数——用多项式逼近任意函数

> 这是微积分最强大的工具之一！

### 核心思想

**问题**：如何用简单的多项式来逼近复杂函数（如 $\sin x, e^x, \ln x$）？

**答案**：泰勒级数！

### 从线性逼近开始

在 $x=a$ 附近，用**切线**逼近：
$$
f(x) \approx f(a) + f'(a)(x-a)
$$

这是**一次逼近**（线性逼近）。

### 二次逼近

加上曲率信息（二阶导数）：
$$
f(x) \approx f(a) + f'(a)(x-a) + \frac{f''(a)}{2}(x-a)^2
$$

（为什么除以 $2$？因为 $(x-a)^2$ 的导数是 $2(x-a)$）

### 泰勒级数完整形式

**在 $x=a$ 处展开**：
$$
f(x) = f(a) + f'(a)(x-a) + \frac{f''(a)}{2!}(x-a)^2 + \frac{f'''(a)}{3!}(x-a)^3 + \cdots
$$

**记号**：
$$
f(x) = \sum_{n=0}^{\infty} \frac{f^{(n)}(a)}{n!}(x-a)^n
$$

**麦克劳林级数**：当 $a=0$ 时的特殊情况
$$
f(x) = f(0) + f'(0)x + \frac{f''(0)}{2!}x^2 + \frac{f'''(0)}{3!}x^3 + \cdots
$$

### 常见泰勒展开

**1. 指数函数**
$$
e^x = 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \frac{x^4}{4!} + \cdots = \sum_{n=0}^\infty \frac{x^n}{n!}
$$

**验证**：
- $f(0) = e^0 = 1$ ✓
- $f'(0) = e^0 = 1$ ✓
- $f''(0) = e^0 = 1$ ✓
- ……所有导数在 $0$ 处都是 $1$！

**2. 正弦函数**
$$
\sin(x) = x - \frac{x^3}{3!} + \frac{x^5}{5!} - \frac{x^7}{7!} + \cdots = \sum_{n=0}^\infty \frac{(-1)^n x^{2n+1}}{(2n+1)!}
$$

**特点**：只有奇数次项，符号交替

**3. 余弦函数**
$$
\cos(x) = 1 - \frac{x^2}{2!} + \frac{x^4}{4!} - \frac{x^6}{6!} + \cdots = \sum_{n=0}^\infty \frac{(-1)^n x^{2n}}{(2n)!}
$$

**特点**：只有偶数次项，符号交替

**4. 几何级数**
$$
\frac{1}{1-x} = 1 + x + x^2 + x^3 + \cdots \quad (|x| < 1)
$$

**5. 对数函数**
$$
\ln(1+x) = x - \frac{x^2}{2} + \frac{x^3}{3} - \frac{x^4}{4} + \cdots \quad (|x| < 1)
$$

### 实际应用：近似计算

**例子1**：计算 $\sin(0.1)$

用前三项：
$$
\sin(0.1) \approx 0.1 - \frac{(0.1)^3}{6} = 0.1 - 0.000167 = 0.099833
$$

实际值：$0.0998334\ldots$ （误差极小！）

**例子2**：计算 $e$

令 $x=1$：
$$
e = 1 + 1 + \frac{1}{2} + \frac{1}{6} + \frac{1}{24} + \frac{1}{120} + \cdots \approx 2.71828
$$

### 欧拉公式——数学中最美的公式

**惊人发现**：将 $i\theta$（虚数）代入 $e^x$ 的泰勒展开：
$$
e^{i\theta} = 1 + i\theta - \frac{\theta^2}{2!} - \frac{i\theta^3}{3!} + \frac{\theta^4}{4!} + \frac{i\theta^5}{5!} - \cdots
$$

**分组**（实部和虚部）：
$$
e^{i\theta} = \left(1 - \frac{\theta^2}{2!} + \frac{\theta^4}{4!} - \cdots\right) + i\left(\theta - \frac{\theta^3}{3!} + \frac{\theta^5}{5!} - \cdots\right)
$$

**识别**：
$$
e^{i\theta} = \cos\theta + i\sin\theta
$$

这就是**欧拉公式**！

### 欧拉恒等式

令 $\theta = \pi$：
$$
e^{i\pi} = \cos\pi + i\sin\pi = -1 + 0 = -1
$$

移项：
$$
e^{i\pi} + 1 = 0
$$

**含义**：连接了五个最基本的数学常数
- $e$：自然对数的底
- $i$：虚数单位
- $\pi$：圆周率
- $1$：乘法单位元
- $0$：加法单位元

**理查德·费曼**说："这是我们的珠宝，是数学中最非凡的公式。"

### 为什么泰勒级数如此重要？

1. **逼近复杂函数**：计算器计算 $\sin, \cos, e^x$ 等函数时，用的就是泰勒级数！
2. **理论工具**：证明许多数学定理
3. **物理应用**：量子力学、相对论中的核心工具
4. **连接看似无关的函数**：欧拉公式揭示了指数函数和三角函数的深刻联系

---

## 附录A：常用导数与积分公式速查表

### 基本导数公式

| 函数 | 导数 | 备注 |
|------|------|------|
| $c$ | $0$ | 常数导数为0 |
| $x$ | $1$ | |
| $x^n$ | $nx^{n-1}$ | 幂法则 |
| $\sqrt{x}$ | $\frac{1}{2\sqrt{x}}$ | |
| $\frac{1}{x}$ | $-\frac{1}{x^2}$ | |
| $e^x$ | $e^x$ | 自然指数的特性 |
| $a^x$ | $a^x \ln a$ | 一般指数 |
| $\ln x$ | $\frac{1}{x}$ | 自然对数 |
| $\log_a x$ | $\frac{1}{x \ln a}$ | 一般对数 |
| $\sin x$ | $\cos x$ | |
| $\cos x$ | $-\sin x$ | |
| $\tan x$ | $\sec^2 x = \frac{1}{\cos^2 x}$ | |
| $\cot x$ | $-\csc^2 x$ | |
| $\sec x$ | $\sec x \tan x$ | |
| $\csc x$ | $-\csc x \cot x$ | |
| $\arcsin x$ | $\frac{1}{\sqrt{1-x^2}}$ | 反三角函数 |
| $\arccos x$ | $-\frac{1}{\sqrt{1-x^2}}$ | |
| $\arctan x$ | $\frac{1}{1+x^2}$ | |

### 求导法则

| 法则 | 公式 |
|------|------|
| 和差法则 | $[f(x) \pm g(x)]' = f'(x) \pm g'(x)$ |
| 常数倍法则 | $[cf(x)]' = cf'(x)$ |
| 乘积法则 | $[f(x)g(x)]' = f'(x)g(x) + f(x)g'(x)$ |
| 商法则 | $\left[\frac{f(x)}{g(x)}\right]' = \frac{f'(x)g(x) - f(x)g'(x)}{[g(x)]^2}$ |
| 链式法则 | $[f(g(x))]' = f'(g(x)) \cdot g'(x)$ |

### 基本不定积分公式

| 函数 | 不定积分 | 备注 |
|------|----------|------|
| $k$ | $kx + C$ | 常数 |
| $x^n$ | $\frac{x^{n+1}}{n+1} + C$ | $n \neq -1$ |
| $\frac{1}{x}$ | $\ln \|x\| + C$ | 注意绝对值 |
| $e^x$ | $e^x + C$ | |
| $a^x$ | $\frac{a^x}{\ln a} + C$ | $a > 0, a \neq 1$ |
| $\sin x$ | $-\cos x + C$ | |
| $\cos x$ | $\sin x + C$ | |
| $\sec^2 x$ | $\tan x + C$ | |
| $\csc^2 x$ | $-\cot x + C$ | |
| $\sec x \tan x$ | $\sec x + C$ | |
| $\frac{1}{\sqrt{1-x^2}}$ | $\arcsin x + C$ | $\|x\| < 1$ |
| $\frac{1}{1+x^2}$ | $\arctan x + C$ | |
| $\frac{1}{\sqrt{x^2+a^2}}$ | $\ln(x + \sqrt{x^2+a^2}) + C$ | |

### 积分技巧

| 技巧 | 说明 | 例子 |
|------|------|------|
| 换元法 | 令 $u = g(x)$ | $\int 2x(x^2+1)^3 dx$，令 $u=x^2+1$ |
| 分部积分 | $\int u \, dv = uv - \int v \, du$ | $\int x e^x dx$ |
| 三角换元 | 利用三角恒等式 | $\int \sqrt{1-x^2} dx$，令 $x = \sin\theta$ |
| 部分分式 | 分解有理函数 | $\int \frac{1}{x^2-1} dx = \int \left(\frac{1/2}{x-1} - \frac{1/2}{x+1}\right) dx$ |

---

## 附录B：学习路线图

### 入门阶段（1-2个月）

**目标**：建立直观理解

1. **观看 3Blue1Brown 视频系列**（必看！）
   - 每集15-20分钟，共15集
   - 建议边看边暂停思考
   - 配合本笔记食用

2. **基础练习**
   - 求简单函数的导数
   - 理解导数的几何意义
   - 计算简单的定积分

3. **可视化工具**
   - [Desmos](https://www.desmos.com/)：绘制函数图像，观察导数变化
   - [GeoGebra](https://www.geogebra.org/)：动态几何工具
   - [Wolfram Alpha](https://www.wolframalpha.com/)：验证计算

### 进阶阶段（2-4个月）

**目标**：熟练掌握技巧

1. **系统学习**
   - 完成 Khan Academy 微积分课程（中文字幕）
   - 做教材习题（推荐《托马斯微积分》或《普林斯顿微积分读本》）

2. **难度提升**
   - 链式法则的复杂应用
   - 积分换元法、分部积分
   - 隐函数求导的实际问题

3. **应用导向**
   - 物理问题（运动学、电磁学）
   - 优化问题（经济学、工程）
   - 微分方程初步

### 深入阶段（持续学习）

**目标**：理论与应用结合

1. **高级主题**
   - 多元微积分（偏导数、多重积分）
   - 向量微积分（梯度、散度、旋度）
   - 微分方程
   - 复分析

2. **专业应用**
   - 机器学习（梯度下降、反向传播）
   - 物理学（拉格朗日力学、场论）
   - 经济学（边际分析、最优化）

---

## 附录C：推荐学习资源

### 📺 视频课程

**强烈推荐**：
1. **3Blue1Brown - Essence of Calculus**
   - [YouTube 原版](https://www.youtube.com/playlist?list=PLZHQObOWTQDMsr9K-rj53DwVRMYO3t5Yr)
   - [Bilibili 中文字幕版](https://www.bilibili.com/video/BV1qW411N7FU)
   - 特点：动画精美，直观理解，强烈推荐！

2. **MIT 18.01 Single Variable Calculus**
   - [MIT OpenCourseWare](https://ocw.mit.edu/courses/mathematics/18-01-single-variable-calculus-fall-2006/)
   - 教授：David Jerison
   - 特点：系统严谨，适合深入学习

3. **Khan Academy 微积分**
   - [中文版](https://zh.khanacademy.org/math/calculus-1)
   - 特点：互动练习多，适合自学

4. **Professor Leonard 微积分系列**
   - [YouTube](https://www.youtube.com/c/ProfessorLeonard)
   - 特点：讲解非常详细，有课堂氛围

### 📚 经典教材

**入门级**：
1. **《普林斯顿微积分读本》** (The Calculus Lifesaver)
   - 作者：Adrian Banner
   - 特点：通俗易懂，例题丰富，有中文版
   - 推荐指数：⭐⭐⭐⭐⭐

2. **《微积分的力量》** (Infinite Powers)
   - 作者：Steven Strogatz
   - 特点：科普向，讲述微积分的历史和应用
   - 适合培养兴趣

**标准教材**：
3. **《托马斯微积分》** (Thomas' Calculus)
   - 经典教材，内容全面
   - 习题量大，适合系统学习

4. **《微积分学教程》**
   - 作者：菲赫金哥尔茨
   - 特点：三卷本，理论严谨，适合数学专业

**进阶级**：
5. **《数学分析原理》** (Principles of Mathematical Analysis)
   - 作者：Walter Rudin（"宝宝Rudin"）
   - 特点：理论严格，证明优美，数学系必读

### 🌐 在线工具与网站

1. **Desmos Graphing Calculator**
   - https://www.desmos.com/calculator
   - 功能：绘制函数、动画演示、求导积分

2. **Wolfram Alpha**
   - https://www.wolframalpha.com/
   - 功能：符号计算、步骤详解、智能问答

3. **GeoGebra**
   - https://www.geogebra.org/
   - 功能：动态几何、3D图形、微积分可视化

4. **Paul's Online Math Notes**
   - https://tutorial.math.lamar.edu/
   - 内容：微积分笔记、例题、备忘单

5. **Better Explained**
   - https://betterexplained.com/
   - 特点：用直观的方式解释数学概念

### 📱 学习 APP

1. **Wolfram Alpha** (iOS/Android)
   - 移动版计算器

2. **Khan Academy** (iOS/Android)
   - 随时随地练习

3. **Photomath** (iOS/Android)
   - 拍照识别数学题，显示步骤

### 💡 刷题平台

1. **MIT OpenCourseWare 习题集**
   - 附带答案和详解

2. **Paul's Online Math Notes 练习题**
   - 按主题分类，难度递增

3. **Brilliant.org**
   - 互动式学习，游戏化刷题

### 📖 进阶阅读

**多元微积分**：
- Stewart 的《Calculus: Early Transcendentals》
- MIT 18.02 课程

**微分方程**：
- Paul's Online Notes - Differential Equations
- MIT 18.03 课程

**复分析**：
- 《Visual Complex Analysis》 - Tristan Needham
- 用几何方式理解复数

**实变函数**：
- 《实分析与复分析》- Rudin（"爸爸Rudin"）
- 数学专业研究生水平

### 🎮 趣味资源

1. **Explorable Calculus**
   - https://www.geogebra.org/m/x39ys4d7
   - 交互式学习微积分

2. **Seeing Theory**
   - https://seeing-theory.brown.edu/
   - 可视化概率统计（用到微积分）

3. **The Calculus Trilogy** (3Blue1Brown)
   - 不仅有微积分，还有线性代数、微分方程

---

## 附录D：常见误区与注意事项

### ❌ 常见错误

1. **混淆 $\frac{d}{dx}$ 和 $\frac{\Delta y}{\Delta x}$**
   - $\frac{d}{dx}$：极限情况，精确的瞬时变化率
   - $\frac{\Delta y}{\Delta x}$：有限差分，平均变化率

2. **忘记链式法则**
   - 错误：$\frac{d}{dx}[\sin(x^2)] = \cos(x^2)$
   - 正确：$\frac{d}{dx}[\sin(x^2)] = \cos(x^2) \cdot 2x$

3. **积分忘记加常数 $C$**
   - $\int x \, dx = \frac{x^2}{2} + C$（不是 $\frac{x^2}{2}$！）

4. **定积分搞反上下限**
   - $\int_a^b f(x) \, dx = -\int_b^a f(x) \, dx$

### ✅ 学习技巧

1. **先理解，再记忆**
   - 不要死背公式
   - 理解公式背后的几何或物理意义

2. **多画图**
   - 导数 = 斜率
   - 积分 = 面积
   - 图形化思维能帮助理解

3. **验证答案**
   - 求完导数，可以用定义验证
   - 求完积分，可以求导验证

4. **归纳总结**
   - 建立自己的公式卡片
   - 定期复习错题

5. **联系实际**
   - 思考微积分在生活中的应用
   - 速度、加速度、面积、体积……

---

## 最后的话

> **微积分不是关于记忆公式，而是关于理解变化。**

### 核心思想回顾

**导数**：告诉你"现在变化有多快"
- 几何意义：切线斜率
- 物理意义：瞬时速度

**积分**：告诉你"累积起来有多少"
- 几何意义：曲线下面积
- 物理意义：总位移

**微积分基本定理**：这两个概念优雅地统一在一起
$$
\int_a^b f(x) \, dx = F(b) - F(a), \quad \text{其中 } F'(x) = f(x)
$$

### 学习心态

- **不要急躁**：微积分是几百年智慧的结晶，需要时间消化
- **允许困惑**：遇到不懂是正常的，多问为什么
- **享受过程**：当你突然"顿悟"某个概念时，那种感觉很美妙！
- **持续练习**：数学是"做"出来的，不是"看"出来的

### 下一步

学完一元微积分后，可以探索：
- **多元微积分**：偏导数、多重积分、向量场（⭐ 机器学习必备）
- **线性代数**：与微积分并驾齐驱的数学基础（⭐ ML/DL 核心）
- **概率统计**：需要积分作为工具（⭐ ML/DL 理论基础）
- **优化理论**：凸优化、梯度下降（⭐ ML/DL 算法核心）
- **微分方程**：用微积分描述动态系统
- **复分析**：美丽的复数世界
- **实变函数**：更严格的数学基础

**⭐ 标记的是机器学习/深度学习最重要的方向！**

---

**祝你在微积分的学习旅程中收获满满！** 📐✨

**记住**：每一位数学大师都曾是初学者，你也可以！

---

## 附录E：微积分在机器学习/深度学习中的应用 🤖

> 专为 ML/DL 学习者设计的应用指南

### 🎯 为什么 ML/DL 需要微积分？

**一句话总结**：机器学习的核心是**优化**，而优化的核心是**梯度**（导数）！

**核心流程**：
1. 定义一个**损失函数** $L(\theta)$（衡量模型好坏）
2. 计算损失函数对参数的**梯度** $\nabla L(\theta)$（导数）
3. 用**梯度下降**更新参数：$\theta \leftarrow \theta - \alpha \nabla L(\theta)$
4. 重复直到收敛

**微积分的作用**：第2步和第3步都需要导数！

---

### 🔥 核心概念1：损失函数与梯度下降

#### 损失函数（Loss Function）

**例子：线性回归**

模型：$\hat{y} = wx + b$

损失函数（均方误差）：
$$
L(w, b) = \frac{1}{n} \sum_{i=1}^n (y_i - \hat{y}_i)^2 = \frac{1}{n} \sum_{i=1}^n (y_i - wx_i - b)^2
$$

**目标**：找到 $w$ 和 $b$ 使 $L$ 最小

#### 梯度下降（Gradient Descent）

**梯度**：多变量函数的导数
$$
\nabla L = \left( \frac{\partial L}{\partial w}, \frac{\partial L}{\partial b} \right)
$$

**更新规则**：
$$
w \leftarrow w - \alpha \frac{\partial L}{\partial w}
$$
$$
b \leftarrow b - \alpha \frac{\partial L}{\partial b}
$$

其中 $\alpha$ 是**学习率**（learning rate）。

**计算偏导数**：
$$
\frac{\partial L}{\partial w} = \frac{2}{n} \sum_{i=1}^n (wx_i + b - y_i) \cdot x_i
$$
$$
\frac{\partial L}{\partial b} = \frac{2}{n} \sum_{i=1}^n (wx_i + b - y_i)
$$

**直观理解**：
- 梯度指向函数增长最快的方向
- 负梯度指向函数下降最快的方向
- 沿着负梯度走，就能找到最小值！

---

### 🧠 核心概念2：反向传播（Backpropagation）

#### 什么是反向传播？

神经网络训练的核心算法，本质是**链式法则**的应用！

#### 简单神经网络

**前向传播**：
$$
z^{(1)} = W^{(1)}x + b^{(1)}
$$
$$
a^{(1)} = \sigma(z^{(1)})
$$
$$
z^{(2)} = W^{(2)}a^{(1)} + b^{(2)}
$$
$$
\hat{y} = \sigma(z^{(2)})
$$

**损失函数**：
$$
L = \frac{1}{2}(y - \hat{y})^2
$$

#### 反向传播（用链式法则）

计算 $\frac{\partial L}{\partial W^{(1)}}$：

**步骤1**：$\frac{\partial L}{\partial \hat{y}} = -(y - \hat{y})$

**步骤2**：$\frac{\partial \hat{y}}{\partial z^{(2)}} = \sigma'(z^{(2)})$

**步骤3**：$\frac{\partial z^{(2)}}{\partial a^{(1)}} = W^{(2)}$

**步骤4**：$\frac{\partial a^{(1)}}{\partial z^{(1)}} = \sigma'(z^{(1)})$

**步骤5**：$\frac{\partial z^{(1)}}{\partial W^{(1)}} = x$

**链式法则**：
$$
\frac{\partial L}{\partial W^{(1)}} = \frac{\partial L}{\partial \hat{y}} \cdot \frac{\partial \hat{y}}{\partial z^{(2)}} \cdot \frac{\partial z^{(2)}}{\partial a^{(1)}} \cdot \frac{\partial a^{(1)}}{\partial z^{(1)}} \cdot \frac{\partial z^{(1)}}{\partial W^{(1)}}
$$

**这就是第4章链式法则的直接应用！**

---

### 📊 核心概念3：常用激活函数的导数

#### Sigmoid
$$
\sigma(x) = \frac{1}{1 + e^{-x}}
$$

**导数**：
$$
\sigma'(x) = \sigma(x)(1 - \sigma(x))
$$

**用到的微积分**：链式法则、指数函数求导

#### ReLU（Rectified Linear Unit）
$$
\text{ReLU}(x) = \max(0, x) = \begin{cases} x, & x > 0 \\ 0, & x \leq 0 \end{cases}
$$

**导数**：
$$
\text{ReLU}'(x) = \begin{cases} 1, & x > 0 \\ 0, & x \leq 0 \end{cases}
$$

**用到的微积分**：分段函数求导

#### Tanh
$$
\tanh(x) = \frac{e^x - e^{-x}}{e^x + e^{-x}}
$$

**导数**：
$$
\tanh'(x) = 1 - \tanh^2(x)
$$

#### Softmax（用于多分类）
$$
\text{softmax}(x_i) = \frac{e^{x_i}}{\sum_j e^{x_j}}
$$

**导数**（雅可比矩阵）：
$$
\frac{\partial \text{softmax}(x_i)}{\partial x_j} = \begin{cases} 
\text{softmax}(x_i)(1 - \text{softmax}(x_i)), & i = j \\
-\text{softmax}(x_i)\text{softmax}(x_j), & i \neq j
\end{cases}
$$

**用到的微积分**：偏导数、链式法则

---

### 🎨 核心概念4：常用损失函数

#### 均方误差（MSE）- 回归
$$
L = \frac{1}{n} \sum_{i=1}^n (y_i - \hat{y}_i)^2
$$

**梯度**：
$$
\frac{\partial L}{\partial \hat{y}_i} = \frac{2}{n}(\hat{y}_i - y_i)
$$

#### 交叉熵（Cross-Entropy）- 分类
$$
L = -\frac{1}{n} \sum_{i=1}^n [y_i \log(\hat{y}_i) + (1-y_i)\log(1-\hat{y}_i)]
$$

**梯度**：
$$
\frac{\partial L}{\partial \hat{y}_i} = -\frac{1}{n}\left(\frac{y_i}{\hat{y}_i} - \frac{1-y_i}{1-\hat{y}_i}\right)
$$

**用到的微积分**：对数求导、链式法则

---

### 🔧 核心概念5：优化算法

#### SGD（随机梯度下降）
$$
\theta \leftarrow \theta - \alpha \nabla L(\theta)
$$

#### Momentum
$$
v_t = \beta v_{t-1} + \nabla L(\theta)
$$
$$
\theta \leftarrow \theta - \alpha v_t
$$

#### Adam（最常用）
$$
m_t = \beta_1 m_{t-1} + (1-\beta_1)\nabla L
$$
$$
v_t = \beta_2 v_{t-1} + (1-\beta_2)(\nabla L)^2
$$
$$
\theta \leftarrow \theta - \alpha \frac{m_t}{\sqrt{v_t} + \epsilon}
$$

**都需要计算梯度 $\nabla L$！**

---

### 📚 ML/DL 中用到的微积分知识清单

| 概念 | 微积分章节 | ML/DL 应用 |
|------|-----------|-----------|
| 导数 | 第1章 | 梯度下降 |
| 链式法则 | 第4章 | **反向传播**（核心！） |
| 偏导数 | 多元微积分 | 多参数优化 |
| 梯度 | 多元微积分 | **梯度下降**（核心！） |
| 泰勒展开 | 第15章 | 二阶优化、牛顿法 |
| 极值判定 | 第14章 | 找最优解 |
| 积分 | 第8-10章 | 概率密度函数、期望值 |
| 指数/对数 | 第5章 | Sigmoid、交叉熵 |

---

### 🎯 实战例子：从零实现线性回归

```python
import numpy as np

# 数据
X = np.array([1, 2, 3, 4, 5])
y = np.array([2, 4, 6, 8, 10])

# 初始化参数
w = 0.0
b = 0.0
alpha = 0.01  # 学习率
n = len(X)

# 梯度下降
for epoch in range(1000):
    # 预测
    y_pred = w * X + b
    
    # 计算梯度（用微积分求导得到！）
    dw = (2/n) * np.sum((y_pred - y) * X)
    db = (2/n) * np.sum(y_pred - y)
    
    # 更新参数
    w = w - alpha * dw
    b = b - alpha * db
    
    # 打印损失
    if epoch % 100 == 0:
        loss = np.mean((y_pred - y)**2)
        print(f"Epoch {epoch}: w={w:.4f}, b={b:.4f}, loss={loss:.4f}")

print(f"\n最终结果：y = {w:.4f}x + {b:.4f}")
# 理论答案：y = 2x (完美拟合！)
```

**代码中的微积分**：
- `dw` 和 `db` 是通过对损失函数**求偏导**得到的（第3章+多元微积分）
- 更新规则就是**梯度下降**（第14章优化）

---

### 🚀 进阶主题

#### 1. 自动微分（Automatic Differentiation）

PyTorch/TensorFlow 如何自动计算梯度？

**核心**：计算图（Computational Graph）+ 链式法则

```python
import torch

x = torch.tensor([2.0], requires_grad=True)
y = x**2 + 3*x + 1

y.backward()  # 自动计算梯度
print(x.grad)  # dy/dx = 2x + 3 = 7
```

#### 2. 二阶优化

**牛顿法**：用二阶导数（Hessian 矩阵）加速收敛
$$
\theta \leftarrow \theta - H^{-1} \nabla L
$$

其中 $H$ 是 Hessian 矩阵：
$$
H_{ij} = \frac{\partial^2 L}{\partial \theta_i \partial \theta_j}
$$

**用到第9章的高阶导数！**

#### 3. 正则化

**L2 正则化**（岭回归）：
$$
L_{\text{total}} = L_{\text{原始}} + \lambda \sum_i \theta_i^2
$$

**梯度**：
$$
\nabla L_{\text{total}} = \nabla L_{\text{原始}} + 2\lambda \theta
$$

---

### 📖 推荐学习路径（ML/DL 方向）

#### 阶段1：数学基础（现在）
1. ✅ **一元微积分**（你正在学！）
2. 📚 **线性代数**
   - 矩阵乘法、特征值
   - 奇异值分解（SVD）
   - 推荐：3Blue1Brown 的《Essence of Linear Algebra》
3. 📚 **概率统计**
   - 概率分布、期望、方差
   - 贝叶斯定理
   - 推荐：《概率论与数理统计》

#### 阶段2：多元微积分
1. **偏导数与梯度**（⭐ 最重要！）
2. **多重积分**
3. **向量微积分**（散度、旋度）
4. **优化理论**（凸优化、KKT条件）

推荐资源：
- MIT 18.02 课程
- Stanford CS229 的数学复习笔记

#### 阶段3：机器学习理论
1. **监督学习**：回归、分类
2. **无监督学习**：聚类、降维
3. **深度学习**：神经网络、CNN、RNN、Transformer
4. **优化算法**：SGD、Adam、学习率调度

推荐资源：
- Andrew Ng 的 Machine Learning 课程
- Stanford CS231n（CNN）、CS224n（NLP）
- 《深度学习》（花书，Goodfellow）

---

### 💡 学习建议

1. **边学边练**：
   - 手推梯度公式
   - 从零实现简单算法
   - 理解框架在做什么

2. **可视化工具**：
   - TensorBoard：可视化训练过程
   - Distill.pub：交互式ML文章
   - Playground.tensorflow.org：在线神经网络

3. **重点关注**：
   - **链式法则**：反向传播的核心
   - **梯度**：优化的核心
   - **凸优化**：保证收敛

4. **不要陷入细节**：
   - 知道梯度怎么算就行，框架会帮你算
   - 重点是**理解为什么**，而不是**记住公式**

---

<center>

*"微积分是通往现代科学与工程的大门。"*

*—— Isaac Newton & Gottfried Wilhelm Leibniz*

---

*"机器学习的本质是优化，而优化的本质是微积分。"*

*—— 致所有 ML/DL 学习者*

</center>

