================================================================================
五、 系统测试
================================================================================

（一）测试目的

本测试计划为企业级大语言模型训练管理平台的系统测试计划，目的在于验证系统是否满足需求规格说明书的各项要求。测试范围涵盖全部功能模块和业务需求，通过对测试过程和结果的定性与定量分析，为系统的投产决策提供科学依据。

（二）测试环境

1. 硬件环境

硬件配置（服务器端）如下表所示。

设备类型	配置项	配置参数
应用服务器	CPU	Intel Core i7-12700K @ 3.60GHz
	内存	32 GB DDR4
	硬盘	1 TB NVMe SSD
	GPU	NVIDIA RTX 4090 24GB
数据库服务器	CPU	Intel Core i7-12700K @ 3.60GHz
	内存	32 GB DDR4
	硬盘	512 GB NVMe SSD
表5-2-1 服务器硬件配置

硬件配置（客户端）如下表所示。

设备类型	配置项	配置参数
客户端	CPU	Intel Core i5 @ 2.5GHz
	内存	16 GB
网络环境	局域网	千兆以太网
表5-2-2 客户端硬件配置

2. 软件环境

软件环境配置如下表所示。

组件类型	软件名称	版本
应用服务器	操作系统	Windows 11 Pro
	Python	3.14
	FastAPI	0.100+
	SQLAlchemy	2.0+
客户端	操作系统	Windows 10/11
	浏览器	Chrome 120/Edge 120
测试工具	JMeter	5.6
	Postman	10.x
数据库	SQLite/MySQL	3.x/8.0
表5-2-3 软件环境配置

（三）功能测试

功能测试采用黑盒测试方法，根据需求规格说明书设计测试用例，对系统各功能模块进行全面验证。测试过程中记录所有发现的缺陷，并进行修复和回归测试。

1. 功能模块测试

首先对系统所有功能模块进行整体功能验证，测试结果如下表所示。

模块名称	预期结果	测试结果
用户认证模块	用户注册、登录、Token刷新、登出功能正常	通过
模型配置管理模块	模型配置的添加、编辑、删除、查询功能正常	通过
模型对话模块	会话管理、消息收发、流式响应、导出功能正常	通过
模型对比测试模块	多模型并行对比测试功能正常	通过
模型训练管理模块	数据集上传、任务创建、启停、日志查看功能正常	通过
训练可视化监控模块	SwanLab集成、训练指标曲线展示功能正常	通过
系统提示词管理模块	提示词的增删改查、格式验证功能正常	通过
系统管理模块	用户管理、角色权限、系统统计功能正常	通过
表5-3-1 功能模块测试

2. 用户认证业务测试

对用户认证模块进行详细的业务流程测试，验证注册、登录、Token机制等核心流程，测试结果如下表所示。

测试项	测试过程	预期结果	测试结果
用户注册	访问注册页面，输入邮箱、昵称和密码，点击注册	注册成功，跳转到登录页面	通过
邮箱重复注册	使用已存在的邮箱重复注册	提示"邮箱已被注册"	通过
用户登录	输入正确的邮箱和密码，点击登录	登录成功，生成Token并跳转首页	通过
错误密码登录	输入正确邮箱和错误密码	提示"用户名或密码错误"	通过
Token自动刷新	Access Token过期后发起请求	前端自动刷新Token，用户无感知	通过
用户登出	点击登出按钮	清除Token，跳转到登录页面	通过
表5-3-2 用户认证业务测试

3. 模型配置业务测试

对模型配置管理模块进行详细测试，验证配置的完整生命周期，测试结果如下表所示。

测试项	测试过程	预期结果	测试结果
添加模型配置	选择提供商，输入API地址和密钥，刷新模型列表，选择模型并保存	配置成功，列表显示新配置	通过
编辑模型配置	点击编辑按钮，修改配置参数并保存	配置更新成功	通过
删除模型配置	点击删除按钮并确认	配置删除成功	通过
重复配置检测	添加与已有配置相同的模型	提示"相同的模型配置已存在"	通过
表5-3-3 模型配置业务测试

4. 模型对话业务测试

对模型对话模块的会话管理、消息收发和导出功能进行测试，测试结果如下表所示。

测试项	测试过程	预期结果	测试结果
创建会话	点击"新对话"按钮	创建新会话并显示在列表中	通过
发送消息	输入消息内容，选择模型并发送	消息发送成功，模型返回响应	通过
流式响应	发送消息并开启流式模式	响应逐字展示，支持Markdown渲染	通过
思维链展示	使用DeepSeek R1模型发送消息	解析并展示推理过程	通过
会话导出	选择TXT/Markdown/JSON格式导出	生成对应格式文件并下载	通过
表5-3-4 模型对话业务测试

5. 模型训练业务测试

对模型训练管理模块的数据集管理和训练任务管理进行测试，测试结果如下表所示。

测试项	测试过程	预期结果	测试结果
上传数据集	选择JSON格式文件，填写名称并上传	上传成功，列表显示新数据集	通过
格式校验	上传不支持的文件格式	提示"不支持的文件格式"	通过
创建训练任务	配置任务名称、基座模型、数据集和训练参数，点击创建	任务创建成功，状态为待运行	通过
启动训练	点击启动按钮	任务状态变为运行中	通过
查看训练日志	点击查看日志按钮	显示实时训练日志	通过
SwanLab监控	在可视化页面查看训练指标	显示Loss和学习率曲线	通过
表5-3-5 模型训练业务测试

（四）性能测试

性能测试使用Apache JMeter工具，模拟多用户并发访问系统，测试系统在不同负载条件下的响应时间和稳定性，每个测试场景重复执行5次取平均值。

1. 用户登录并发测试

访问用户登录页面，使用正确的用户名和密码登录，测试不同并发用户数下的登录事务执行情况，结果如下表所示。

并发用户数	平均响应时间（秒）	最小响应时间（秒）	最大响应时间（秒）	标准偏差	事务成功率
50	0.156	0.089	0.312	0.045	100%
100	0.234	0.125	0.487	0.078	100%
150	0.312	0.187	0.623	0.112	100%
200	0.421	0.245	0.798	0.145	100%
表5-4-1 登录事务并发执行情况

测试结果表明，在200个并发用户同时登录时，平均响应时间为0.421秒，事务成功率100%，满足系统性能需求。

2. 消息发送并发测试

登录用户发送对话消息（非流式），测试消息发送事务在不同并发条件下的执行情况，结果如下表所示。

并发用户数	平均响应时间（秒）	最小响应时间（秒）	最大响应时间（秒）	标准偏差	事务成功率
50	0.245	0.156	0.456	0.067	100%
100	0.378	0.212	0.634	0.098	100%
150	0.512	0.289	0.856	0.134	100%
200	0.687	0.345	1.123	0.178	100%
表5-4-2 消息发送事务并发执行情况

测试结果表明，在200个并发用户同时发送消息时，平均响应时间为0.687秒，事务成功率100%，系统运行稳定。

3. 流式响应性能测试

测试SSE流式响应的关键性能指标，结果如下表所示。

测试指标	测试值	需求值	是否满足
首Token时间（TTFT）	120-350ms	取决于模型	是
系统额外延迟	35ms	<50ms	是
流式传输稳定性	无丢包无中断	稳定传输	是
并发流式请求数	50+	>20	是
表5-4-3 流式响应性能测试结果

（五）安全性测试

安全性测试验证系统在身份认证、权限控制和数据保护等方面的安全措施是否有效。

1. 认证安全测试

测试项	测试过程	预期结果	测试结果
无Token访问	不携带Token访问认证接口	返回401错误	通过
伪造Token	使用伪造的Token访问接口	返回401错误	通过
过期Token	使用过期的Access Token访问	返回401错误	通过
Token刷新	使用有效Refresh Token刷新	返回新的Access Token	通过
表5-5-1 认证安全测试

2. 权限控制测试

测试项	测试过程	预期结果	测试结果
越权访问管理功能	普通用户访问用户管理页面	返回403错误	通过
越权访问他人数据	用户A访问用户B的会话	返回403或404错误	通过
管理员权限验证	管理员访问所有管理功能	正常访问	通过
表5-5-2 权限控制测试

3. 数据安全测试

测试项	测试过程	预期结果	测试结果
SQL注入防护	在登录表单输入SQL注入语句	参数化查询阻止注入	通过
密码加密存储	查看数据库密码字段	bcrypt加密，不可逆	通过
API Key安全	查看数据库API Key字段	加密存储	通过
表5-5-3 数据安全测试

（六）测试结果分析

在对系统进行了功能测试、性能测试和安全性测试后，验证了系统完全实现了用户所要求的各项功能和设计要求。测试过程中未发现严重缺陷，所有测试用例均通过验证。

本系统具有以下特点：第一，系统架构合理，采用B/S架构和前后端分离的设计模式，后端基于FastAPI框架，前端基于Vue 3框架，系统结构清晰，可维护性好。第二，功能全面，系统涵盖用户认证、模型配置管理、模型对话测试、模型对比测试、模型训练管理、训练可视化监控、系统提示词管理和系统管理8个核心功能模块，满足企业级大语言模型管理的全部业务需求。第三，系统可靠性好，在200个并发用户场景下事务成功率达100%，核心API响应时间控制在300ms以内，流式响应额外延迟仅35ms，系统运行稳定。第四，安全性有保障，JWT双令牌认证机制运行可靠，权限控制严格有效，密码和敏感数据均加密存储，有效防止SQL注入等常见攻击。
